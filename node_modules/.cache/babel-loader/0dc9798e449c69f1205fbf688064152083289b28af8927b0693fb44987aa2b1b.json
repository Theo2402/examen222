{"ast":null,"code":"/*!\n * Chart.js v4.4.3\n * https://www.chartjs.org\n * (c) 2024 Chart.js Contributors\n * Released under the MIT License\n */import{Color}from'@kurkle/color';/**\n * @namespace Chart.helpers\n */ /**\n * An empty function that can be used, for example, for optional callback.\n */function noop(){/* noop */}/**\n * Returns a unique id, sequentially generated from a global variable.\n */const uid=(()=>{let id=0;return()=>id++;})();/**\n * Returns true if `value` is neither null nor undefined, else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */function isNullOrUndef(value){return value===null||typeof value==='undefined';}/**\n * Returns true if `value` is an array (including typed arrays), else returns false.\n * @param value - The value to test.\n * @function\n */function isArray(value){if(Array.isArray&&Array.isArray(value)){return true;}const type=Object.prototype.toString.call(value);if(type.slice(0,7)==='[object'&&type.slice(-6)==='Array]'){return true;}return false;}/**\n * Returns true if `value` is an object (excluding null), else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */function isObject(value){return value!==null&&Object.prototype.toString.call(value)==='[object Object]';}/**\n * Returns true if `value` is a finite number, else returns false\n * @param value  - The value to test.\n */function isNumberFinite(value){return(typeof value==='number'||value instanceof Number)&&isFinite(+value);}/**\n * Returns `value` if finite, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is not finite.\n */function finiteOrDefault(value,defaultValue){return isNumberFinite(value)?value:defaultValue;}/**\n * Returns `value` if defined, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is undefined.\n */function valueOrDefault(value,defaultValue){return typeof value==='undefined'?defaultValue:value;}const toPercentage=(value,dimension)=>typeof value==='string'&&value.endsWith('%')?parseFloat(value)/100:+value/dimension;const toDimension=(value,dimension)=>typeof value==='string'&&value.endsWith('%')?parseFloat(value)/100*dimension:+value;/**\n * Calls `fn` with the given `args` in the scope defined by `thisArg` and returns the\n * value returned by `fn`. If `fn` is not a function, this method returns undefined.\n * @param fn - The function to call.\n * @param args - The arguments with which `fn` should be called.\n * @param [thisArg] - The value of `this` provided for the call to `fn`.\n */function callback(fn,args,thisArg){if(fn&&typeof fn.call==='function'){return fn.apply(thisArg,args);}}function each(loopable,fn,thisArg,reverse){let i,len,keys;if(isArray(loopable)){len=loopable.length;if(reverse){for(i=len-1;i>=0;i--){fn.call(thisArg,loopable[i],i);}}else{for(i=0;i<len;i++){fn.call(thisArg,loopable[i],i);}}}else if(isObject(loopable)){keys=Object.keys(loopable);len=keys.length;for(i=0;i<len;i++){fn.call(thisArg,loopable[keys[i]],keys[i]);}}}/**\n * Returns true if the `a0` and `a1` arrays have the same content, else returns false.\n * @param a0 - The array to compare\n * @param a1 - The array to compare\n * @private\n */function _elementsEqual(a0,a1){let i,ilen,v0,v1;if(!a0||!a1||a0.length!==a1.length){return false;}for(i=0,ilen=a0.length;i<ilen;++i){v0=a0[i];v1=a1[i];if(v0.datasetIndex!==v1.datasetIndex||v0.index!==v1.index){return false;}}return true;}/**\n * Returns a deep copy of `source` without keeping references on objects and arrays.\n * @param source - The value to clone.\n */function clone(source){if(isArray(source)){return source.map(clone);}if(isObject(source)){const target=Object.create(null);const keys=Object.keys(source);const klen=keys.length;let k=0;for(;k<klen;++k){target[keys[k]]=clone(source[keys[k]]);}return target;}return source;}function isValidKey(key){return['__proto__','prototype','constructor'].indexOf(key)===-1;}/**\n * The default merger when Chart.helpers.merge is called without merger option.\n * Note(SB): also used by mergeConfig and mergeScaleConfig as fallback.\n * @private\n */function _merger(key,target,source,options){if(!isValidKey(key)){return;}const tval=target[key];const sval=source[key];if(isObject(tval)&&isObject(sval)){// eslint-disable-next-line @typescript-eslint/no-use-before-define\nmerge(tval,sval,options);}else{target[key]=clone(sval);}}function merge(target,source,options){const sources=isArray(source)?source:[source];const ilen=sources.length;if(!isObject(target)){return target;}options=options||{};const merger=options.merger||_merger;let current;for(let i=0;i<ilen;++i){current=sources[i];if(!isObject(current)){continue;}const keys=Object.keys(current);for(let k=0,klen=keys.length;k<klen;++k){merger(keys[k],target,current,options);}}return target;}function mergeIf(target,source){// eslint-disable-next-line @typescript-eslint/no-use-before-define\nreturn merge(target,source,{merger:_mergerIf});}/**\n * Merges source[key] in target[key] only if target[key] is undefined.\n * @private\n */function _mergerIf(key,target,source){if(!isValidKey(key)){return;}const tval=target[key];const sval=source[key];if(isObject(tval)&&isObject(sval)){mergeIf(tval,sval);}else if(!Object.prototype.hasOwnProperty.call(target,key)){target[key]=clone(sval);}}/**\n * @private\n */function _deprecated(scope,value,previous,current){if(value!==undefined){console.warn(scope+': \"'+previous+'\" is deprecated. Please use \"'+current+'\" instead');}}// resolveObjectKey resolver cache\nconst keyResolvers={// Chart.helpers.core resolveObjectKey should resolve empty key to root object\n'':v=>v,// default resolvers\nx:o=>o.x,y:o=>o.y};/**\n * @private\n */function _splitKey(key){const parts=key.split('.');const keys=[];let tmp='';for(const part of parts){tmp+=part;if(tmp.endsWith('\\\\')){tmp=tmp.slice(0,-1)+'.';}else{keys.push(tmp);tmp='';}}return keys;}function _getKeyResolver(key){const keys=_splitKey(key);return obj=>{for(const k of keys){if(k===''){break;}obj=obj&&obj[k];}return obj;};}function resolveObjectKey(obj,key){const resolver=keyResolvers[key]||(keyResolvers[key]=_getKeyResolver(key));return resolver(obj);}/**\n * @private\n */function _capitalize(str){return str.charAt(0).toUpperCase()+str.slice(1);}const defined=value=>typeof value!=='undefined';const isFunction=value=>typeof value==='function';// Adapted from https://stackoverflow.com/questions/31128855/comparing-ecma6-sets-for-equality#31129384\nconst setsEqual=(a,b)=>{if(a.size!==b.size){return false;}for(const item of a){if(!b.has(item)){return false;}}return true;};/**\n * @param e - The event\n * @private\n */function _isClickEvent(e){return e.type==='mouseup'||e.type==='click'||e.type==='contextmenu';}/**\n * @alias Chart.helpers.math\n * @namespace\n */const PI=Math.PI;const TAU=2*PI;const PITAU=TAU+PI;const INFINITY=Number.POSITIVE_INFINITY;const RAD_PER_DEG=PI/180;const HALF_PI=PI/2;const QUARTER_PI=PI/4;const TWO_THIRDS_PI=PI*2/3;const log10=Math.log10;const sign=Math.sign;function almostEquals(x,y,epsilon){return Math.abs(x-y)<epsilon;}/**\n * Implementation of the nice number algorithm used in determining where axis labels will go\n */function niceNum(range){const roundedRange=Math.round(range);range=almostEquals(range,roundedRange,range/1000)?roundedRange:range;const niceRange=Math.pow(10,Math.floor(log10(range)));const fraction=range/niceRange;const niceFraction=fraction<=1?1:fraction<=2?2:fraction<=5?5:10;return niceFraction*niceRange;}/**\n * Returns an array of factors sorted from 1 to sqrt(value)\n * @private\n */function _factorize(value){const result=[];const sqrt=Math.sqrt(value);let i;for(i=1;i<sqrt;i++){if(value%i===0){result.push(i);result.push(value/i);}}if(sqrt===(sqrt|0)){result.push(sqrt);}result.sort((a,b)=>a-b).pop();return result;}function isNumber(n){return!isNaN(parseFloat(n))&&isFinite(n);}function almostWhole(x,epsilon){const rounded=Math.round(x);return rounded-epsilon<=x&&rounded+epsilon>=x;}/**\n * @private\n */function _setMinAndMaxByKey(array,target,property){let i,ilen,value;for(i=0,ilen=array.length;i<ilen;i++){value=array[i][property];if(!isNaN(value)){target.min=Math.min(target.min,value);target.max=Math.max(target.max,value);}}}function toRadians(degrees){return degrees*(PI/180);}function toDegrees(radians){return radians*(180/PI);}/**\n * Returns the number of decimal places\n * i.e. the number of digits after the decimal point, of the value of this Number.\n * @param x - A number.\n * @returns The number of decimal places.\n * @private\n */function _decimalPlaces(x){if(!isNumberFinite(x)){return;}let e=1;let p=0;while(Math.round(x*e)/e!==x){e*=10;p++;}return p;}// Gets the angle from vertical upright to the point about a centre.\nfunction getAngleFromPoint(centrePoint,anglePoint){const distanceFromXCenter=anglePoint.x-centrePoint.x;const distanceFromYCenter=anglePoint.y-centrePoint.y;const radialDistanceFromCenter=Math.sqrt(distanceFromXCenter*distanceFromXCenter+distanceFromYCenter*distanceFromYCenter);let angle=Math.atan2(distanceFromYCenter,distanceFromXCenter);if(angle<-0.5*PI){angle+=TAU;// make sure the returned angle is in the range of (-PI/2, 3PI/2]\n}return{angle,distance:radialDistanceFromCenter};}function distanceBetweenPoints(pt1,pt2){return Math.sqrt(Math.pow(pt2.x-pt1.x,2)+Math.pow(pt2.y-pt1.y,2));}/**\n * Shortest distance between angles, in either direction.\n * @private\n */function _angleDiff(a,b){return(a-b+PITAU)%TAU-PI;}/**\n * Normalize angle to be between 0 and 2*PI\n * @private\n */function _normalizeAngle(a){return(a%TAU+TAU)%TAU;}/**\n * @private\n */function _angleBetween(angle,start,end,sameAngleIsFullCircle){const a=_normalizeAngle(angle);const s=_normalizeAngle(start);const e=_normalizeAngle(end);const angleToStart=_normalizeAngle(s-a);const angleToEnd=_normalizeAngle(e-a);const startToAngle=_normalizeAngle(a-s);const endToAngle=_normalizeAngle(a-e);return a===s||a===e||sameAngleIsFullCircle&&s===e||angleToStart>angleToEnd&&startToAngle<endToAngle;}/**\n * Limit `value` between `min` and `max`\n * @param value\n * @param min\n * @param max\n * @private\n */function _limitValue(value,min,max){return Math.max(min,Math.min(max,value));}/**\n * @param {number} value\n * @private\n */function _int16Range(value){return _limitValue(value,-32768,32767);}/**\n * @param value\n * @param start\n * @param end\n * @param [epsilon]\n * @private\n */function _isBetween(value,start,end){let epsilon=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1e-6;return value>=Math.min(start,end)-epsilon&&value<=Math.max(start,end)+epsilon;}function _lookup(table,value,cmp){cmp=cmp||(index=>table[index]<value);let hi=table.length-1;let lo=0;let mid;while(hi-lo>1){mid=lo+hi>>1;if(cmp(mid)){lo=mid;}else{hi=mid;}}return{lo,hi};}/**\n * Binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @param last - lookup last index\n * @private\n */const _lookupByKey=(table,key,value,last)=>_lookup(table,value,last?index=>{const ti=table[index][key];return ti<value||ti===value&&table[index+1][key]===value;}:index=>table[index][key]<value);/**\n * Reverse binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @private\n */const _rlookupByKey=(table,key,value)=>_lookup(table,value,index=>table[index][key]>=value);/**\n * Return subset of `values` between `min` and `max` inclusive.\n * Values are assumed to be in sorted order.\n * @param values - sorted array of values\n * @param min - min value\n * @param max - max value\n */function _filterBetween(values,min,max){let start=0;let end=values.length;while(start<end&&values[start]<min){start++;}while(end>start&&values[end-1]>max){end--;}return start>0||end<values.length?values.slice(start,end):values;}const arrayEvents=['push','pop','shift','splice','unshift'];function listenArrayEvents(array,listener){if(array._chartjs){array._chartjs.listeners.push(listener);return;}Object.defineProperty(array,'_chartjs',{configurable:true,enumerable:false,value:{listeners:[listener]}});arrayEvents.forEach(key=>{const method='_onData'+_capitalize(key);const base=array[key];Object.defineProperty(array,key,{configurable:true,enumerable:false,value(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}const res=base.apply(this,args);array._chartjs.listeners.forEach(object=>{if(typeof object[method]==='function'){object[method](...args);}});return res;}});});}function unlistenArrayEvents(array,listener){const stub=array._chartjs;if(!stub){return;}const listeners=stub.listeners;const index=listeners.indexOf(listener);if(index!==-1){listeners.splice(index,1);}if(listeners.length>0){return;}arrayEvents.forEach(key=>{delete array[key];});delete array._chartjs;}/**\n * @param items\n */function _arrayUnique(items){const set=new Set(items);if(set.size===items.length){return items;}return Array.from(set);}function fontString(pixelSize,fontStyle,fontFamily){return fontStyle+' '+pixelSize+'px '+fontFamily;}/**\n* Request animation polyfill\n*/const requestAnimFrame=function(){if(typeof window==='undefined'){return function(callback){return callback();};}return window.requestAnimationFrame;}();/**\n * Throttles calling `fn` once per animation frame\n * Latest arguments are used on the actual call\n */function throttled(fn,thisArg){let argsToUse=[];let ticking=false;return function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}// Save the args for use later\nargsToUse=args;if(!ticking){ticking=true;requestAnimFrame.call(window,()=>{ticking=false;fn.apply(thisArg,argsToUse);});}};}/**\n * Debounces calling `fn` for `delay` ms\n */function debounce(fn,delay){let timeout;return function(){for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3];}if(delay){clearTimeout(timeout);timeout=setTimeout(fn,delay,args);}else{fn.apply(this,args);}return delay;};}/**\n * Converts 'start' to 'left', 'end' to 'right' and others to 'center'\n * @private\n */const _toLeftRightCenter=align=>align==='start'?'left':align==='end'?'right':'center';/**\n * Returns `start`, `end` or `(start + end) / 2` depending on `align`. Defaults to `center`\n * @private\n */const _alignStartEnd=(align,start,end)=>align==='start'?start:align==='end'?end:(start+end)/2;/**\n * Returns `left`, `right` or `(left + right) / 2` depending on `align`. Defaults to `left`\n * @private\n */const _textX=(align,left,right,rtl)=>{const check=rtl?'left':'right';return align===check?right:align==='center'?(left+right)/2:left;};/**\n * Return start and count of visible points.\n * @private\n */function _getStartAndCountOfVisiblePoints(meta,points,animationsDisabled){const pointCount=points.length;let start=0;let count=pointCount;if(meta._sorted){const{iScale,_parsed}=meta;const axis=iScale.axis;const{min,max,minDefined,maxDefined}=iScale.getUserBounds();if(minDefined){start=_limitValue(Math.min(// @ts-expect-error Need to type _parsed\n_lookupByKey(_parsed,axis,min).lo,// @ts-expect-error Need to fix types on _lookupByKey\nanimationsDisabled?pointCount:_lookupByKey(points,axis,iScale.getPixelForValue(min)).lo),0,pointCount-1);}if(maxDefined){count=_limitValue(Math.max(// @ts-expect-error Need to type _parsed\n_lookupByKey(_parsed,iScale.axis,max,true).hi+1,// @ts-expect-error Need to fix types on _lookupByKey\nanimationsDisabled?0:_lookupByKey(points,axis,iScale.getPixelForValue(max),true).hi+1),start,pointCount)-start;}else{count=pointCount-start;}}return{start,count};}/**\n * Checks if the scale ranges have changed.\n * @param {object} meta - dataset meta.\n * @returns {boolean}\n * @private\n */function _scaleRangesChanged(meta){const{xScale,yScale,_scaleRanges}=meta;const newRanges={xmin:xScale.min,xmax:xScale.max,ymin:yScale.min,ymax:yScale.max};if(!_scaleRanges){meta._scaleRanges=newRanges;return true;}const changed=_scaleRanges.xmin!==xScale.min||_scaleRanges.xmax!==xScale.max||_scaleRanges.ymin!==yScale.min||_scaleRanges.ymax!==yScale.max;Object.assign(_scaleRanges,newRanges);return changed;}const atEdge=t=>t===0||t===1;const elasticIn=(t,s,p)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-s)*TAU/p));const elasticOut=(t,s,p)=>Math.pow(2,-10*t)*Math.sin((t-s)*TAU/p)+1;/**\n * Easing functions adapted from Robert Penner's easing equations.\n * @namespace Chart.helpers.easing.effects\n * @see http://www.robertpenner.com/easing/\n */const effects={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=0.5)<1?0.5*t*t:-0.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=0.5)<1?0.5*t*t*t:0.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=0.5)<1?0.5*t*t*t*t:-0.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=0.5)<1?0.5*t*t*t*t*t:0.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*HALF_PI)+1,easeOutSine:t=>Math.sin(t*HALF_PI),easeInOutSine:t=>-0.5*(Math.cos(PI*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>atEdge(t)?t:t<0.5?0.5*Math.pow(2,10*(t*2-1)):0.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=0.5)<1?-0.5*(Math.sqrt(1-t*t)-1):0.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>atEdge(t)?t:elasticIn(t,0.075,0.3),easeOutElastic:t=>atEdge(t)?t:elasticOut(t,0.075,0.3),easeInOutElastic(t){const s=0.1125;const p=0.45;return atEdge(t)?t:t<0.5?0.5*elasticIn(t*2,s,p):0.5+0.5*elasticOut(t*2-1,s,p);},easeInBack(t){const s=1.70158;return t*t*((s+1)*t-s);},easeOutBack(t){const s=1.70158;return(t-=1)*t*((s+1)*t+s)+1;},easeInOutBack(t){let s=1.70158;if((t/=0.5)<1){return 0.5*(t*t*(((s*=1.525)+1)*t-s));}return 0.5*((t-=2)*t*(((s*=1.525)+1)*t+s)+2);},easeInBounce:t=>1-effects.easeOutBounce(1-t),easeOutBounce(t){const m=7.5625;const d=2.75;if(t<1/d){return m*t*t;}if(t<2/d){return m*(t-=1.5/d)*t+0.75;}if(t<2.5/d){return m*(t-=2.25/d)*t+0.9375;}return m*(t-=2.625/d)*t+0.984375;},easeInOutBounce:t=>t<0.5?effects.easeInBounce(t*2)*0.5:effects.easeOutBounce(t*2-1)*0.5+0.5};function isPatternOrGradient(value){if(value&&typeof value==='object'){const type=value.toString();return type==='[object CanvasPattern]'||type==='[object CanvasGradient]';}return false;}function color(value){return isPatternOrGradient(value)?value:new Color(value);}function getHoverColor(value){return isPatternOrGradient(value)?value:new Color(value).saturate(0.5).darken(0.1).hexString();}const numbers=['x','y','borderWidth','radius','tension'];const colors=['color','borderColor','backgroundColor'];function applyAnimationsDefaults(defaults){defaults.set('animation',{delay:undefined,duration:1000,easing:'easeOutQuart',fn:undefined,from:undefined,loop:undefined,to:undefined,type:undefined});defaults.describe('animation',{_fallback:false,_indexable:false,_scriptable:name=>name!=='onProgress'&&name!=='onComplete'&&name!=='fn'});defaults.set('animations',{colors:{type:'color',properties:colors},numbers:{type:'number',properties:numbers}});defaults.describe('animations',{_fallback:'animation'});defaults.set('transitions',{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:'transparent'},visible:{type:'boolean',duration:0}}},hide:{animations:{colors:{to:'transparent'},visible:{type:'boolean',easing:'linear',fn:v=>v|0}}}});}function applyLayoutsDefaults(defaults){defaults.set('layout',{autoPadding:true,padding:{top:0,right:0,bottom:0,left:0}});}const intlCache=new Map();function getNumberFormat(locale,options){options=options||{};const cacheKey=locale+JSON.stringify(options);let formatter=intlCache.get(cacheKey);if(!formatter){formatter=new Intl.NumberFormat(locale,options);intlCache.set(cacheKey,formatter);}return formatter;}function formatNumber(num,locale,options){return getNumberFormat(locale,options).format(num);}const formatters={values(value){return isArray(value)?value:''+value;},numeric(tickValue,index,ticks){if(tickValue===0){return'0';}const locale=this.chart.options.locale;let notation;let delta=tickValue;if(ticks.length>1){const maxTick=Math.max(Math.abs(ticks[0].value),Math.abs(ticks[ticks.length-1].value));if(maxTick<1e-4||maxTick>1e+15){notation='scientific';}delta=calculateDelta(tickValue,ticks);}const logDelta=log10(Math.abs(delta));const numDecimal=isNaN(logDelta)?1:Math.max(Math.min(-1*Math.floor(logDelta),20),0);const options={notation,minimumFractionDigits:numDecimal,maximumFractionDigits:numDecimal};Object.assign(options,this.options.ticks.format);return formatNumber(tickValue,locale,options);},logarithmic(tickValue,index,ticks){if(tickValue===0){return'0';}const remain=ticks[index].significand||tickValue/Math.pow(10,Math.floor(log10(tickValue)));if([1,2,3,5,10,15].includes(remain)||index>0.8*ticks.length){return formatters.numeric.call(this,tickValue,index,ticks);}return'';}};function calculateDelta(tickValue,ticks){let delta=ticks.length>3?ticks[2].value-ticks[1].value:ticks[1].value-ticks[0].value;if(Math.abs(delta)>=1&&tickValue!==Math.floor(tickValue)){delta=tickValue-Math.floor(tickValue);}return delta;}var Ticks={formatters};function applyScaleDefaults(defaults){defaults.set('scale',{display:true,offset:false,reverse:false,beginAtZero:false,bounds:'ticks',clip:true,grace:0,grid:{display:true,lineWidth:1,drawOnChartArea:true,drawTicks:true,tickLength:8,tickWidth:(_ctx,options)=>options.lineWidth,tickColor:(_ctx,options)=>options.color,offset:false},border:{display:true,dash:[],dashOffset:0.0,width:1},title:{display:false,text:'',padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:false,textStrokeWidth:0,textStrokeColor:'',padding:3,display:true,autoSkip:true,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:'center',crossAlign:'near',showLabelBackdrop:false,backdropColor:'rgba(255, 255, 255, 0.75)',backdropPadding:2}});defaults.route('scale.ticks','color','','color');defaults.route('scale.grid','color','','borderColor');defaults.route('scale.border','color','','borderColor');defaults.route('scale.title','color','','color');defaults.describe('scale',{_fallback:false,_scriptable:name=>!name.startsWith('before')&&!name.startsWith('after')&&name!=='callback'&&name!=='parser',_indexable:name=>name!=='borderDash'&&name!=='tickBorderDash'&&name!=='dash'});defaults.describe('scales',{_fallback:'scale'});defaults.describe('scale.ticks',{_scriptable:name=>name!=='backdropPadding'&&name!=='callback',_indexable:name=>name!=='backdropPadding'});}const overrides=Object.create(null);const descriptors=Object.create(null);function getScope$1(node,key){if(!key){return node;}const keys=key.split('.');for(let i=0,n=keys.length;i<n;++i){const k=keys[i];node=node[k]||(node[k]=Object.create(null));}return node;}function set(root,scope,values){if(typeof scope==='string'){return merge(getScope$1(root,scope),values);}return merge(getScope$1(root,''),scope);}class Defaults{constructor(_descriptors,_appliers){this.animation=undefined;this.backgroundColor='rgba(0,0,0,0.1)';this.borderColor='rgba(0,0,0,0.1)';this.color='#666';this.datasets={};this.devicePixelRatio=context=>context.chart.platform.getDevicePixelRatio();this.elements={};this.events=['mousemove','mouseout','click','touchstart','touchmove'];this.font={family:\"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",size:12,style:'normal',lineHeight:1.2,weight:null};this.hover={};this.hoverBackgroundColor=(ctx,options)=>getHoverColor(options.backgroundColor);this.hoverBorderColor=(ctx,options)=>getHoverColor(options.borderColor);this.hoverColor=(ctx,options)=>getHoverColor(options.color);this.indexAxis='x';this.interaction={mode:'nearest',intersect:true,includeInvisible:false};this.maintainAspectRatio=true;this.onHover=null;this.onClick=null;this.parsing=true;this.plugins={};this.responsive=true;this.scale=undefined;this.scales={};this.showLine=true;this.drawActiveElementsOnTop=true;this.describe(_descriptors);this.apply(_appliers);}set(scope,values){return set(this,scope,values);}get(scope){return getScope$1(this,scope);}describe(scope,values){return set(descriptors,scope,values);}override(scope,values){return set(overrides,scope,values);}route(scope,name,targetScope,targetName){const scopeObject=getScope$1(this,scope);const targetScopeObject=getScope$1(this,targetScope);const privateName='_'+name;Object.defineProperties(scopeObject,{[privateName]:{value:scopeObject[name],writable:true},[name]:{enumerable:true,get(){const local=this[privateName];const target=targetScopeObject[targetName];if(isObject(local)){return Object.assign({},target,local);}return valueOrDefault(local,target);},set(value){this[privateName]=value;}}});}apply(appliers){appliers.forEach(apply=>apply(this));}}var defaults=/* #__PURE__ */new Defaults({_scriptable:name=>!name.startsWith('on'),_indexable:name=>name!=='events',hover:{_fallback:'interaction'},interaction:{_scriptable:false,_indexable:false}},[applyAnimationsDefaults,applyLayoutsDefaults,applyScaleDefaults]);/**\n * Converts the given font object into a CSS font string.\n * @param font - A font object.\n * @return The CSS font string. See https://developer.mozilla.org/en-US/docs/Web/CSS/font\n * @private\n */function toFontString(font){if(!font||isNullOrUndef(font.size)||isNullOrUndef(font.family)){return null;}return(font.style?font.style+' ':'')+(font.weight?font.weight+' ':'')+font.size+'px '+font.family;}/**\n * @private\n */function _measureText(ctx,data,gc,longest,string){let textWidth=data[string];if(!textWidth){textWidth=data[string]=ctx.measureText(string).width;gc.push(string);}if(textWidth>longest){longest=textWidth;}return longest;}/**\n * @private\n */ // eslint-disable-next-line complexity\nfunction _longestText(ctx,font,arrayOfThings,cache){cache=cache||{};let data=cache.data=cache.data||{};let gc=cache.garbageCollect=cache.garbageCollect||[];if(cache.font!==font){data=cache.data={};gc=cache.garbageCollect=[];cache.font=font;}ctx.save();ctx.font=font;let longest=0;const ilen=arrayOfThings.length;let i,j,jlen,thing,nestedThing;for(i=0;i<ilen;i++){thing=arrayOfThings[i];// Undefined strings and arrays should not be measured\nif(thing!==undefined&&thing!==null&&!isArray(thing)){longest=_measureText(ctx,data,gc,longest,thing);}else if(isArray(thing)){// if it is an array lets measure each element\n// to do maybe simplify this function a bit so we can do this more recursively?\nfor(j=0,jlen=thing.length;j<jlen;j++){nestedThing=thing[j];// Undefined strings and arrays should not be measured\nif(nestedThing!==undefined&&nestedThing!==null&&!isArray(nestedThing)){longest=_measureText(ctx,data,gc,longest,nestedThing);}}}}ctx.restore();const gcLen=gc.length/2;if(gcLen>arrayOfThings.length){for(i=0;i<gcLen;i++){delete data[gc[i]];}gc.splice(0,gcLen);}return longest;}/**\n * Returns the aligned pixel value to avoid anti-aliasing blur\n * @param chart - The chart instance.\n * @param pixel - A pixel value.\n * @param width - The width of the element.\n * @returns The aligned pixel value.\n * @private\n */function _alignPixel(chart,pixel,width){const devicePixelRatio=chart.currentDevicePixelRatio;const halfWidth=width!==0?Math.max(width/2,0.5):0;return Math.round((pixel-halfWidth)*devicePixelRatio)/devicePixelRatio+halfWidth;}/**\n * Clears the entire canvas.\n */function clearCanvas(canvas,ctx){if(!ctx&&!canvas){return;}ctx=ctx||canvas.getContext('2d');ctx.save();// canvas.width and canvas.height do not consider the canvas transform,\n// while clearRect does\nctx.resetTransform();ctx.clearRect(0,0,canvas.width,canvas.height);ctx.restore();}function drawPoint(ctx,options,x,y){// eslint-disable-next-line @typescript-eslint/no-use-before-define\ndrawPointLegend(ctx,options,x,y,null);}// eslint-disable-next-line complexity\nfunction drawPointLegend(ctx,options,x,y,w){let type,xOffset,yOffset,size,cornerRadius,width,xOffsetW,yOffsetW;const style=options.pointStyle;const rotation=options.rotation;const radius=options.radius;let rad=(rotation||0)*RAD_PER_DEG;if(style&&typeof style==='object'){type=style.toString();if(type==='[object HTMLImageElement]'||type==='[object HTMLCanvasElement]'){ctx.save();ctx.translate(x,y);ctx.rotate(rad);ctx.drawImage(style,-style.width/2,-style.height/2,style.width,style.height);ctx.restore();return;}}if(isNaN(radius)||radius<=0){return;}ctx.beginPath();switch(style){// Default includes circle\ndefault:if(w){ctx.ellipse(x,y,w/2,radius,0,0,TAU);}else{ctx.arc(x,y,radius,0,TAU);}ctx.closePath();break;case'triangle':width=w?w/2:radius;ctx.moveTo(x+Math.sin(rad)*width,y-Math.cos(rad)*radius);rad+=TWO_THIRDS_PI;ctx.lineTo(x+Math.sin(rad)*width,y-Math.cos(rad)*radius);rad+=TWO_THIRDS_PI;ctx.lineTo(x+Math.sin(rad)*width,y-Math.cos(rad)*radius);ctx.closePath();break;case'rectRounded':// NOTE: the rounded rect implementation changed to use `arc` instead of\n// `quadraticCurveTo` since it generates better results when rect is\n// almost a circle. 0.516 (instead of 0.5) produces results with visually\n// closer proportion to the previous impl and it is inscribed in the\n// circle with `radius`. For more details, see the following PRs:\n// https://github.com/chartjs/Chart.js/issues/5597\n// https://github.com/chartjs/Chart.js/issues/5858\ncornerRadius=radius*0.516;size=radius-cornerRadius;xOffset=Math.cos(rad+QUARTER_PI)*size;xOffsetW=Math.cos(rad+QUARTER_PI)*(w?w/2-cornerRadius:size);yOffset=Math.sin(rad+QUARTER_PI)*size;yOffsetW=Math.sin(rad+QUARTER_PI)*(w?w/2-cornerRadius:size);ctx.arc(x-xOffsetW,y-yOffset,cornerRadius,rad-PI,rad-HALF_PI);ctx.arc(x+yOffsetW,y-xOffset,cornerRadius,rad-HALF_PI,rad);ctx.arc(x+xOffsetW,y+yOffset,cornerRadius,rad,rad+HALF_PI);ctx.arc(x-yOffsetW,y+xOffset,cornerRadius,rad+HALF_PI,rad+PI);ctx.closePath();break;case'rect':if(!rotation){size=Math.SQRT1_2*radius;width=w?w/2:size;ctx.rect(x-width,y-size,2*width,2*size);break;}rad+=QUARTER_PI;/* falls through */case'rectRot':xOffsetW=Math.cos(rad)*(w?w/2:radius);xOffset=Math.cos(rad)*radius;yOffset=Math.sin(rad)*radius;yOffsetW=Math.sin(rad)*(w?w/2:radius);ctx.moveTo(x-xOffsetW,y-yOffset);ctx.lineTo(x+yOffsetW,y-xOffset);ctx.lineTo(x+xOffsetW,y+yOffset);ctx.lineTo(x-yOffsetW,y+xOffset);ctx.closePath();break;case'crossRot':rad+=QUARTER_PI;/* falls through */case'cross':xOffsetW=Math.cos(rad)*(w?w/2:radius);xOffset=Math.cos(rad)*radius;yOffset=Math.sin(rad)*radius;yOffsetW=Math.sin(rad)*(w?w/2:radius);ctx.moveTo(x-xOffsetW,y-yOffset);ctx.lineTo(x+xOffsetW,y+yOffset);ctx.moveTo(x+yOffsetW,y-xOffset);ctx.lineTo(x-yOffsetW,y+xOffset);break;case'star':xOffsetW=Math.cos(rad)*(w?w/2:radius);xOffset=Math.cos(rad)*radius;yOffset=Math.sin(rad)*radius;yOffsetW=Math.sin(rad)*(w?w/2:radius);ctx.moveTo(x-xOffsetW,y-yOffset);ctx.lineTo(x+xOffsetW,y+yOffset);ctx.moveTo(x+yOffsetW,y-xOffset);ctx.lineTo(x-yOffsetW,y+xOffset);rad+=QUARTER_PI;xOffsetW=Math.cos(rad)*(w?w/2:radius);xOffset=Math.cos(rad)*radius;yOffset=Math.sin(rad)*radius;yOffsetW=Math.sin(rad)*(w?w/2:radius);ctx.moveTo(x-xOffsetW,y-yOffset);ctx.lineTo(x+xOffsetW,y+yOffset);ctx.moveTo(x+yOffsetW,y-xOffset);ctx.lineTo(x-yOffsetW,y+xOffset);break;case'line':xOffset=w?w/2:Math.cos(rad)*radius;yOffset=Math.sin(rad)*radius;ctx.moveTo(x-xOffset,y-yOffset);ctx.lineTo(x+xOffset,y+yOffset);break;case'dash':ctx.moveTo(x,y);ctx.lineTo(x+Math.cos(rad)*(w?w/2:radius),y+Math.sin(rad)*radius);break;case false:ctx.closePath();break;}ctx.fill();if(options.borderWidth>0){ctx.stroke();}}/**\n * Returns true if the point is inside the rectangle\n * @param point - The point to test\n * @param area - The rectangle\n * @param margin - allowed margin\n * @private\n */function _isPointInArea(point,area,margin){margin=margin||0.5;// margin - default is to match rounded decimals\nreturn!area||point&&point.x>area.left-margin&&point.x<area.right+margin&&point.y>area.top-margin&&point.y<area.bottom+margin;}function clipArea(ctx,area){ctx.save();ctx.beginPath();ctx.rect(area.left,area.top,area.right-area.left,area.bottom-area.top);ctx.clip();}function unclipArea(ctx){ctx.restore();}/**\n * @private\n */function _steppedLineTo(ctx,previous,target,flip,mode){if(!previous){return ctx.lineTo(target.x,target.y);}if(mode==='middle'){const midpoint=(previous.x+target.x)/2.0;ctx.lineTo(midpoint,previous.y);ctx.lineTo(midpoint,target.y);}else if(mode==='after'!==!!flip){ctx.lineTo(previous.x,target.y);}else{ctx.lineTo(target.x,previous.y);}ctx.lineTo(target.x,target.y);}/**\n * @private\n */function _bezierCurveTo(ctx,previous,target,flip){if(!previous){return ctx.lineTo(target.x,target.y);}ctx.bezierCurveTo(flip?previous.cp1x:previous.cp2x,flip?previous.cp1y:previous.cp2y,flip?target.cp2x:target.cp1x,flip?target.cp2y:target.cp1y,target.x,target.y);}function setRenderOpts(ctx,opts){if(opts.translation){ctx.translate(opts.translation[0],opts.translation[1]);}if(!isNullOrUndef(opts.rotation)){ctx.rotate(opts.rotation);}if(opts.color){ctx.fillStyle=opts.color;}if(opts.textAlign){ctx.textAlign=opts.textAlign;}if(opts.textBaseline){ctx.textBaseline=opts.textBaseline;}}function decorateText(ctx,x,y,line,opts){if(opts.strikethrough||opts.underline){/**\n     * Now that IE11 support has been dropped, we can use more\n     * of the TextMetrics object. The actual bounding boxes\n     * are unflagged in Chrome, Firefox, Edge, and Safari so they\n     * can be safely used.\n     * See https://developer.mozilla.org/en-US/docs/Web/API/TextMetrics#Browser_compatibility\n     */const metrics=ctx.measureText(line);const left=x-metrics.actualBoundingBoxLeft;const right=x+metrics.actualBoundingBoxRight;const top=y-metrics.actualBoundingBoxAscent;const bottom=y+metrics.actualBoundingBoxDescent;const yDecoration=opts.strikethrough?(top+bottom)/2:bottom;ctx.strokeStyle=ctx.fillStyle;ctx.beginPath();ctx.lineWidth=opts.decorationWidth||2;ctx.moveTo(left,yDecoration);ctx.lineTo(right,yDecoration);ctx.stroke();}}function drawBackdrop(ctx,opts){const oldColor=ctx.fillStyle;ctx.fillStyle=opts.color;ctx.fillRect(opts.left,opts.top,opts.width,opts.height);ctx.fillStyle=oldColor;}/**\n * Render text onto the canvas\n */function renderText(ctx,text,x,y,font){let opts=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{};const lines=isArray(text)?text:[text];const stroke=opts.strokeWidth>0&&opts.strokeColor!=='';let i,line;ctx.save();ctx.font=font.string;setRenderOpts(ctx,opts);for(i=0;i<lines.length;++i){line=lines[i];if(opts.backdrop){drawBackdrop(ctx,opts.backdrop);}if(stroke){if(opts.strokeColor){ctx.strokeStyle=opts.strokeColor;}if(!isNullOrUndef(opts.strokeWidth)){ctx.lineWidth=opts.strokeWidth;}ctx.strokeText(line,x,y,opts.maxWidth);}ctx.fillText(line,x,y,opts.maxWidth);decorateText(ctx,x,y,line,opts);y+=Number(font.lineHeight);}ctx.restore();}/**\n * Add a path of a rectangle with rounded corners to the current sub-path\n * @param ctx - Context\n * @param rect - Bounding rect\n */function addRoundedRectPath(ctx,rect){const{x,y,w,h,radius}=rect;// top left arc\nctx.arc(x+radius.topLeft,y+radius.topLeft,radius.topLeft,1.5*PI,PI,true);// line from top left to bottom left\nctx.lineTo(x,y+h-radius.bottomLeft);// bottom left arc\nctx.arc(x+radius.bottomLeft,y+h-radius.bottomLeft,radius.bottomLeft,PI,HALF_PI,true);// line from bottom left to bottom right\nctx.lineTo(x+w-radius.bottomRight,y+h);// bottom right arc\nctx.arc(x+w-radius.bottomRight,y+h-radius.bottomRight,radius.bottomRight,HALF_PI,0,true);// line from bottom right to top right\nctx.lineTo(x+w,y+radius.topRight);// top right arc\nctx.arc(x+w-radius.topRight,y+radius.topRight,radius.topRight,0,-HALF_PI,true);// line from top right to top left\nctx.lineTo(x+radius.topLeft,y);}const LINE_HEIGHT=/^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/;const FONT_STYLE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;/**\n * @alias Chart.helpers.options\n * @namespace\n */ /**\n * Converts the given line height `value` in pixels for a specific font `size`.\n * @param value - The lineHeight to parse (eg. 1.6, '14px', '75%', '1.6em').\n * @param size - The font size (in pixels) used to resolve relative `value`.\n * @returns The effective line height in pixels (size * 1.2 if value is invalid).\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/line-height\n * @since 2.7.0\n */function toLineHeight(value,size){const matches=(''+value).match(LINE_HEIGHT);if(!matches||matches[1]==='normal'){return size*1.2;}value=+matches[2];switch(matches[3]){case'px':return value;case'%':value/=100;break;}return size*value;}const numberOrZero=v=>+v||0;function _readValueToProps(value,props){const ret={};const objProps=isObject(props);const keys=objProps?Object.keys(props):props;const read=isObject(value)?objProps?prop=>valueOrDefault(value[prop],value[props[prop]]):prop=>value[prop]:()=>value;for(const prop of keys){ret[prop]=numberOrZero(read(prop));}return ret;}/**\n * Converts the given value into a TRBL object.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left)\n * @since 3.0.0\n */function toTRBL(value){return _readValueToProps(value,{top:'y',right:'x',bottom:'y',left:'x'});}/**\n * Converts the given value into a TRBL corners object (similar with css border-radius).\n * @param value - If a number, set the value to all TRBL corner components,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n * @returns The TRBL corner values (topLeft, topRight, bottomLeft, bottomRight)\n * @since 3.0.0\n */function toTRBLCorners(value){return _readValueToProps(value,['topLeft','topRight','bottomLeft','bottomRight']);}/**\n * Converts the given value into a padding object with pre-computed width/height.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left, width, height)\n * @since 2.7.0\n */function toPadding(value){const obj=toTRBL(value);obj.width=obj.left+obj.right;obj.height=obj.top+obj.bottom;return obj;}/**\n * Parses font options and returns the font object.\n * @param options - A object that contains font options to be parsed.\n * @param fallback - A object that contains fallback font options.\n * @return The font object.\n * @private\n */function toFont(options,fallback){options=options||{};fallback=fallback||defaults.font;let size=valueOrDefault(options.size,fallback.size);if(typeof size==='string'){size=parseInt(size,10);}let style=valueOrDefault(options.style,fallback.style);if(style&&!(''+style).match(FONT_STYLE)){console.warn('Invalid font style specified: \"'+style+'\"');style=undefined;}const font={family:valueOrDefault(options.family,fallback.family),lineHeight:toLineHeight(valueOrDefault(options.lineHeight,fallback.lineHeight),size),size,style,weight:valueOrDefault(options.weight,fallback.weight),string:''};font.string=toFontString(font);return font;}/**\n * Evaluates the given `inputs` sequentially and returns the first defined value.\n * @param inputs - An array of values, falling back to the last value.\n * @param context - If defined and the current value is a function, the value\n * is called with `context` as first argument and the result becomes the new input.\n * @param index - If defined and the current value is an array, the value\n * at `index` become the new input.\n * @param info - object to return information about resolution in\n * @param info.cacheable - Will be set to `false` if option is not cacheable.\n * @since 2.7.0\n */function resolve(inputs,context,index,info){let cacheable=true;let i,ilen,value;for(i=0,ilen=inputs.length;i<ilen;++i){value=inputs[i];if(value===undefined){continue;}if(context!==undefined&&typeof value==='function'){value=value(context);cacheable=false;}if(index!==undefined&&isArray(value)){value=value[index%value.length];cacheable=false;}if(value!==undefined){if(info&&!cacheable){info.cacheable=false;}return value;}}}/**\n * @param minmax\n * @param grace\n * @param beginAtZero\n * @private\n */function _addGrace(minmax,grace,beginAtZero){const{min,max}=minmax;const change=toDimension(grace,(max-min)/2);const keepZero=(value,add)=>beginAtZero&&value===0?0:value+add;return{min:keepZero(min,-Math.abs(change)),max:keepZero(max,change)};}function createContext(parentContext,context){return Object.assign(Object.create(parentContext),context);}/**\n * Creates a Proxy for resolving raw values for options.\n * @param scopes - The option scopes to look for values, in resolution order\n * @param prefixes - The prefixes for values, in resolution order.\n * @param rootScopes - The root option scopes\n * @param fallback - Parent scopes fallback\n * @param getTarget - callback for getting the target for changed values\n * @returns Proxy\n * @private\n */function _createResolver(scopes){let prefixes=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[''];let rootScopes=arguments.length>2?arguments[2]:undefined;let fallback=arguments.length>3?arguments[3]:undefined;let getTarget=arguments.length>4&&arguments[4]!==undefined?arguments[4]:()=>scopes[0];const finalRootScopes=rootScopes||scopes;if(typeof fallback==='undefined'){fallback=_resolve('_fallback',scopes);}const cache={[Symbol.toStringTag]:'Object',_cacheable:true,_scopes:scopes,_rootScopes:finalRootScopes,_fallback:fallback,_getTarget:getTarget,override:scope=>_createResolver([scope,...scopes],prefixes,finalRootScopes,fallback)};return new Proxy(cache,{/**\n     * A trap for the delete operator.\n     */deleteProperty(target,prop){delete target[prop];// remove from cache\ndelete target._keys;// remove cached keys\ndelete scopes[0][prop];// remove from top level scope\nreturn true;},/**\n     * A trap for getting property values.\n     */get(target,prop){return _cached(target,prop,()=>_resolveWithPrefixes(prop,prefixes,scopes,target));},/**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */getOwnPropertyDescriptor(target,prop){return Reflect.getOwnPropertyDescriptor(target._scopes[0],prop);},/**\n     * A trap for Object.getPrototypeOf.\n     */getPrototypeOf(){return Reflect.getPrototypeOf(scopes[0]);},/**\n     * A trap for the in operator.\n     */has(target,prop){return getKeysFromAllScopes(target).includes(prop);},/**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */ownKeys(target){return getKeysFromAllScopes(target);},/**\n     * A trap for setting property values.\n     */set(target,prop,value){const storage=target._storage||(target._storage=getTarget());target[prop]=storage[prop]=value;// set to top level scope + cache\ndelete target._keys;// remove cached keys\nreturn true;}});}/**\n * Returns an Proxy for resolving option values with context.\n * @param proxy - The Proxy returned by `_createResolver`\n * @param context - Context object for scriptable/indexable options\n * @param subProxy - The proxy provided for scriptable options\n * @param descriptorDefaults - Defaults for descriptors\n * @private\n */function _attachContext(proxy,context,subProxy,descriptorDefaults){const cache={_cacheable:false,_proxy:proxy,_context:context,_subProxy:subProxy,_stack:new Set(),_descriptors:_descriptors(proxy,descriptorDefaults),setContext:ctx=>_attachContext(proxy,ctx,subProxy,descriptorDefaults),override:scope=>_attachContext(proxy.override(scope),context,subProxy,descriptorDefaults)};return new Proxy(cache,{/**\n     * A trap for the delete operator.\n     */deleteProperty(target,prop){delete target[prop];// remove from cache\ndelete proxy[prop];// remove from proxy\nreturn true;},/**\n     * A trap for getting property values.\n     */get(target,prop,receiver){return _cached(target,prop,()=>_resolveWithContext(target,prop,receiver));},/**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */getOwnPropertyDescriptor(target,prop){return target._descriptors.allKeys?Reflect.has(proxy,prop)?{enumerable:true,configurable:true}:undefined:Reflect.getOwnPropertyDescriptor(proxy,prop);},/**\n     * A trap for Object.getPrototypeOf.\n     */getPrototypeOf(){return Reflect.getPrototypeOf(proxy);},/**\n     * A trap for the in operator.\n     */has(target,prop){return Reflect.has(proxy,prop);},/**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */ownKeys(){return Reflect.ownKeys(proxy);},/**\n     * A trap for setting property values.\n     */set(target,prop,value){proxy[prop]=value;// set to proxy\ndelete target[prop];// remove from cache\nreturn true;}});}/**\n * @private\n */function _descriptors(proxy){let defaults=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{scriptable:true,indexable:true};const{_scriptable=defaults.scriptable,_indexable=defaults.indexable,_allKeys=defaults.allKeys}=proxy;return{allKeys:_allKeys,scriptable:_scriptable,indexable:_indexable,isScriptable:isFunction(_scriptable)?_scriptable:()=>_scriptable,isIndexable:isFunction(_indexable)?_indexable:()=>_indexable};}const readKey=(prefix,name)=>prefix?prefix+_capitalize(name):name;const needsSubResolver=(prop,value)=>isObject(value)&&prop!=='adapters'&&(Object.getPrototypeOf(value)===null||value.constructor===Object);function _cached(target,prop,resolve){if(Object.prototype.hasOwnProperty.call(target,prop)||prop==='constructor'){return target[prop];}const value=resolve();// cache the resolved value\ntarget[prop]=value;return value;}function _resolveWithContext(target,prop,receiver){const{_proxy,_context,_subProxy,_descriptors:descriptors}=target;let value=_proxy[prop];// resolve from proxy\n// resolve with context\nif(isFunction(value)&&descriptors.isScriptable(prop)){value=_resolveScriptable(prop,value,target,receiver);}if(isArray(value)&&value.length){value=_resolveArray(prop,value,target,descriptors.isIndexable);}if(needsSubResolver(prop,value)){// if the resolved value is an object, create a sub resolver for it\nvalue=_attachContext(value,_context,_subProxy&&_subProxy[prop],descriptors);}return value;}function _resolveScriptable(prop,getValue,target,receiver){const{_proxy,_context,_subProxy,_stack}=target;if(_stack.has(prop)){throw new Error('Recursion detected: '+Array.from(_stack).join('->')+'->'+prop);}_stack.add(prop);let value=getValue(_context,_subProxy||receiver);_stack.delete(prop);if(needsSubResolver(prop,value)){// When scriptable option returns an object, create a resolver on that.\nvalue=createSubResolver(_proxy._scopes,_proxy,prop,value);}return value;}function _resolveArray(prop,value,target,isIndexable){const{_proxy,_context,_subProxy,_descriptors:descriptors}=target;if(typeof _context.index!=='undefined'&&isIndexable(prop)){return value[_context.index%value.length];}else if(isObject(value[0])){// Array of objects, return array or resolvers\nconst arr=value;const scopes=_proxy._scopes.filter(s=>s!==arr);value=[];for(const item of arr){const resolver=createSubResolver(scopes,_proxy,prop,item);value.push(_attachContext(resolver,_context,_subProxy&&_subProxy[prop],descriptors));}}return value;}function resolveFallback(fallback,prop,value){return isFunction(fallback)?fallback(prop,value):fallback;}const getScope=(key,parent)=>key===true?parent:typeof key==='string'?resolveObjectKey(parent,key):undefined;function addScopes(set,parentScopes,key,parentFallback,value){for(const parent of parentScopes){const scope=getScope(key,parent);if(scope){set.add(scope);const fallback=resolveFallback(scope._fallback,key,value);if(typeof fallback!=='undefined'&&fallback!==key&&fallback!==parentFallback){// When we reach the descriptor that defines a new _fallback, return that.\n// The fallback will resume to that new scope.\nreturn fallback;}}else if(scope===false&&typeof parentFallback!=='undefined'&&key!==parentFallback){// Fallback to `false` results to `false`, when falling back to different key.\n// For example `interaction` from `hover` or `plugins.tooltip` and `animation` from `animations`\nreturn null;}}return false;}function createSubResolver(parentScopes,resolver,prop,value){const rootScopes=resolver._rootScopes;const fallback=resolveFallback(resolver._fallback,prop,value);const allScopes=[...parentScopes,...rootScopes];const set=new Set();set.add(value);let key=addScopesFromKey(set,allScopes,prop,fallback||prop,value);if(key===null){return false;}if(typeof fallback!=='undefined'&&fallback!==prop){key=addScopesFromKey(set,allScopes,fallback,key,value);if(key===null){return false;}}return _createResolver(Array.from(set),[''],rootScopes,fallback,()=>subGetTarget(resolver,prop,value));}function addScopesFromKey(set,allScopes,key,fallback,item){while(key){key=addScopes(set,allScopes,key,fallback,item);}return key;}function subGetTarget(resolver,prop,value){const parent=resolver._getTarget();if(!(prop in parent)){parent[prop]={};}const target=parent[prop];if(isArray(target)&&isObject(value)){// For array of objects, the object is used to store updated values\nreturn value;}return target||{};}function _resolveWithPrefixes(prop,prefixes,scopes,proxy){let value;for(const prefix of prefixes){value=_resolve(readKey(prefix,prop),scopes);if(typeof value!=='undefined'){return needsSubResolver(prop,value)?createSubResolver(scopes,proxy,prop,value):value;}}}function _resolve(key,scopes){for(const scope of scopes){if(!scope){continue;}const value=scope[key];if(typeof value!=='undefined'){return value;}}}function getKeysFromAllScopes(target){let keys=target._keys;if(!keys){keys=target._keys=resolveKeysFromAllScopes(target._scopes);}return keys;}function resolveKeysFromAllScopes(scopes){const set=new Set();for(const scope of scopes){for(const key of Object.keys(scope).filter(k=>!k.startsWith('_'))){set.add(key);}}return Array.from(set);}function _parseObjectDataRadialScale(meta,data,start,count){const{iScale}=meta;const{key='r'}=this._parsing;const parsed=new Array(count);let i,ilen,index,item;for(i=0,ilen=count;i<ilen;++i){index=i+start;item=data[index];parsed[i]={r:iScale.parse(resolveObjectKey(item,key),index)};}return parsed;}const EPSILON=Number.EPSILON||1e-14;const getPoint=(points,i)=>i<points.length&&!points[i].skip&&points[i];const getValueAxis=indexAxis=>indexAxis==='x'?'y':'x';function splineCurve(firstPoint,middlePoint,afterPoint,t){// Props to Rob Spencer at scaled innovation for his post on splining between points\n// http://scaledinnovation.com/analytics/splines/aboutSplines.html\n// This function must also respect \"skipped\" points\nconst previous=firstPoint.skip?middlePoint:firstPoint;const current=middlePoint;const next=afterPoint.skip?middlePoint:afterPoint;const d01=distanceBetweenPoints(current,previous);const d12=distanceBetweenPoints(next,current);let s01=d01/(d01+d12);let s12=d12/(d01+d12);// If all points are the same, s01 & s02 will be inf\ns01=isNaN(s01)?0:s01;s12=isNaN(s12)?0:s12;const fa=t*s01;// scaling factor for triangle Ta\nconst fb=t*s12;return{previous:{x:current.x-fa*(next.x-previous.x),y:current.y-fa*(next.y-previous.y)},next:{x:current.x+fb*(next.x-previous.x),y:current.y+fb*(next.y-previous.y)}};}/**\n * Adjust tangents to ensure monotonic properties\n */function monotoneAdjust(points,deltaK,mK){const pointsLen=points.length;let alphaK,betaK,tauK,squaredMagnitude,pointCurrent;let pointAfter=getPoint(points,0);for(let i=0;i<pointsLen-1;++i){pointCurrent=pointAfter;pointAfter=getPoint(points,i+1);if(!pointCurrent||!pointAfter){continue;}if(almostEquals(deltaK[i],0,EPSILON)){mK[i]=mK[i+1]=0;continue;}alphaK=mK[i]/deltaK[i];betaK=mK[i+1]/deltaK[i];squaredMagnitude=Math.pow(alphaK,2)+Math.pow(betaK,2);if(squaredMagnitude<=9){continue;}tauK=3/Math.sqrt(squaredMagnitude);mK[i]=alphaK*tauK*deltaK[i];mK[i+1]=betaK*tauK*deltaK[i];}}function monotoneCompute(points,mK){let indexAxis=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'x';const valueAxis=getValueAxis(indexAxis);const pointsLen=points.length;let delta,pointBefore,pointCurrent;let pointAfter=getPoint(points,0);for(let i=0;i<pointsLen;++i){pointBefore=pointCurrent;pointCurrent=pointAfter;pointAfter=getPoint(points,i+1);if(!pointCurrent){continue;}const iPixel=pointCurrent[indexAxis];const vPixel=pointCurrent[valueAxis];if(pointBefore){delta=(iPixel-pointBefore[indexAxis])/3;pointCurrent[\"cp1\".concat(indexAxis)]=iPixel-delta;pointCurrent[\"cp1\".concat(valueAxis)]=vPixel-delta*mK[i];}if(pointAfter){delta=(pointAfter[indexAxis]-iPixel)/3;pointCurrent[\"cp2\".concat(indexAxis)]=iPixel+delta;pointCurrent[\"cp2\".concat(valueAxis)]=vPixel+delta*mK[i];}}}/**\n * This function calculates Bézier control points in a similar way than |splineCurve|,\n * but preserves monotonicity of the provided data and ensures no local extremums are added\n * between the dataset discrete points due to the interpolation.\n * See : https://en.wikipedia.org/wiki/Monotone_cubic_interpolation\n */function splineCurveMonotone(points){let indexAxis=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'x';const valueAxis=getValueAxis(indexAxis);const pointsLen=points.length;const deltaK=Array(pointsLen).fill(0);const mK=Array(pointsLen);// Calculate slopes (deltaK) and initialize tangents (mK)\nlet i,pointBefore,pointCurrent;let pointAfter=getPoint(points,0);for(i=0;i<pointsLen;++i){pointBefore=pointCurrent;pointCurrent=pointAfter;pointAfter=getPoint(points,i+1);if(!pointCurrent){continue;}if(pointAfter){const slopeDelta=pointAfter[indexAxis]-pointCurrent[indexAxis];// In the case of two points that appear at the same x pixel, slopeDeltaX is 0\ndeltaK[i]=slopeDelta!==0?(pointAfter[valueAxis]-pointCurrent[valueAxis])/slopeDelta:0;}mK[i]=!pointBefore?deltaK[i]:!pointAfter?deltaK[i-1]:sign(deltaK[i-1])!==sign(deltaK[i])?0:(deltaK[i-1]+deltaK[i])/2;}monotoneAdjust(points,deltaK,mK);monotoneCompute(points,mK,indexAxis);}function capControlPoint(pt,min,max){return Math.max(Math.min(pt,max),min);}function capBezierPoints(points,area){let i,ilen,point,inArea,inAreaPrev;let inAreaNext=_isPointInArea(points[0],area);for(i=0,ilen=points.length;i<ilen;++i){inAreaPrev=inArea;inArea=inAreaNext;inAreaNext=i<ilen-1&&_isPointInArea(points[i+1],area);if(!inArea){continue;}point=points[i];if(inAreaPrev){point.cp1x=capControlPoint(point.cp1x,area.left,area.right);point.cp1y=capControlPoint(point.cp1y,area.top,area.bottom);}if(inAreaNext){point.cp2x=capControlPoint(point.cp2x,area.left,area.right);point.cp2y=capControlPoint(point.cp2y,area.top,area.bottom);}}}/**\n * @private\n */function _updateBezierControlPoints(points,options,area,loop,indexAxis){let i,ilen,point,controlPoints;// Only consider points that are drawn in case the spanGaps option is used\nif(options.spanGaps){points=points.filter(pt=>!pt.skip);}if(options.cubicInterpolationMode==='monotone'){splineCurveMonotone(points,indexAxis);}else{let prev=loop?points[points.length-1]:points[0];for(i=0,ilen=points.length;i<ilen;++i){point=points[i];controlPoints=splineCurve(prev,point,points[Math.min(i+1,ilen-(loop?0:1))%ilen],options.tension);point.cp1x=controlPoints.previous.x;point.cp1y=controlPoints.previous.y;point.cp2x=controlPoints.next.x;point.cp2y=controlPoints.next.y;prev=point;}}if(options.capBezierPoints){capBezierPoints(points,area);}}/**\n * Note: typedefs are auto-exported, so use a made-up `dom` namespace where\n * necessary to avoid duplicates with `export * from './helpers`; see\n * https://github.com/microsoft/TypeScript/issues/46011\n * @typedef { import('../core/core.controller.js').default } dom.Chart\n * @typedef { import('../../types').ChartEvent } ChartEvent\n */ /**\n * @private\n */function _isDomSupported(){return typeof window!=='undefined'&&typeof document!=='undefined';}/**\n * @private\n */function _getParentNode(domNode){let parent=domNode.parentNode;if(parent&&parent.toString()==='[object ShadowRoot]'){parent=parent.host;}return parent;}/**\n * convert max-width/max-height values that may be percentages into a number\n * @private\n */function parseMaxStyle(styleValue,node,parentProperty){let valueInPixels;if(typeof styleValue==='string'){valueInPixels=parseInt(styleValue,10);if(styleValue.indexOf('%')!==-1){// percentage * size in dimension\nvalueInPixels=valueInPixels/100*node.parentNode[parentProperty];}}else{valueInPixels=styleValue;}return valueInPixels;}const getComputedStyle=element=>element.ownerDocument.defaultView.getComputedStyle(element,null);function getStyle(el,property){return getComputedStyle(el).getPropertyValue(property);}const positions=['top','right','bottom','left'];function getPositionedStyle(styles,style,suffix){const result={};suffix=suffix?'-'+suffix:'';for(let i=0;i<4;i++){const pos=positions[i];result[pos]=parseFloat(styles[style+'-'+pos+suffix])||0;}result.width=result.left+result.right;result.height=result.top+result.bottom;return result;}const useOffsetPos=(x,y,target)=>(x>0||y>0)&&(!target||!target.shadowRoot);/**\n * @param e\n * @param canvas\n * @returns Canvas position\n */function getCanvasPosition(e,canvas){const touches=e.touches;const source=touches&&touches.length?touches[0]:e;const{offsetX,offsetY}=source;let box=false;let x,y;if(useOffsetPos(offsetX,offsetY,e.target)){x=offsetX;y=offsetY;}else{const rect=canvas.getBoundingClientRect();x=source.clientX-rect.left;y=source.clientY-rect.top;box=true;}return{x,y,box};}/**\n * Gets an event's x, y coordinates, relative to the chart area\n * @param event\n * @param chart\n * @returns x and y coordinates of the event\n */function getRelativePosition(event,chart){if('native'in event){return event;}const{canvas,currentDevicePixelRatio}=chart;const style=getComputedStyle(canvas);const borderBox=style.boxSizing==='border-box';const paddings=getPositionedStyle(style,'padding');const borders=getPositionedStyle(style,'border','width');const{x,y,box}=getCanvasPosition(event,canvas);const xOffset=paddings.left+(box&&borders.left);const yOffset=paddings.top+(box&&borders.top);let{width,height}=chart;if(borderBox){width-=paddings.width+borders.width;height-=paddings.height+borders.height;}return{x:Math.round((x-xOffset)/width*canvas.width/currentDevicePixelRatio),y:Math.round((y-yOffset)/height*canvas.height/currentDevicePixelRatio)};}function getContainerSize(canvas,width,height){let maxWidth,maxHeight;if(width===undefined||height===undefined){const container=canvas&&_getParentNode(canvas);if(!container){width=canvas.clientWidth;height=canvas.clientHeight;}else{const rect=container.getBoundingClientRect();// this is the border box of the container\nconst containerStyle=getComputedStyle(container);const containerBorder=getPositionedStyle(containerStyle,'border','width');const containerPadding=getPositionedStyle(containerStyle,'padding');width=rect.width-containerPadding.width-containerBorder.width;height=rect.height-containerPadding.height-containerBorder.height;maxWidth=parseMaxStyle(containerStyle.maxWidth,container,'clientWidth');maxHeight=parseMaxStyle(containerStyle.maxHeight,container,'clientHeight');}}return{width,height,maxWidth:maxWidth||INFINITY,maxHeight:maxHeight||INFINITY};}const round1=v=>Math.round(v*10)/10;// eslint-disable-next-line complexity\nfunction getMaximumSize(canvas,bbWidth,bbHeight,aspectRatio){const style=getComputedStyle(canvas);const margins=getPositionedStyle(style,'margin');const maxWidth=parseMaxStyle(style.maxWidth,canvas,'clientWidth')||INFINITY;const maxHeight=parseMaxStyle(style.maxHeight,canvas,'clientHeight')||INFINITY;const containerSize=getContainerSize(canvas,bbWidth,bbHeight);let{width,height}=containerSize;if(style.boxSizing==='content-box'){const borders=getPositionedStyle(style,'border','width');const paddings=getPositionedStyle(style,'padding');width-=paddings.width+borders.width;height-=paddings.height+borders.height;}width=Math.max(0,width-margins.width);height=Math.max(0,aspectRatio?width/aspectRatio:height-margins.height);width=round1(Math.min(width,maxWidth,containerSize.maxWidth));height=round1(Math.min(height,maxHeight,containerSize.maxHeight));if(width&&!height){// https://github.com/chartjs/Chart.js/issues/4659\n// If the canvas has width, but no height, default to aspectRatio of 2 (canvas default)\nheight=round1(width/2);}const maintainHeight=bbWidth!==undefined||bbHeight!==undefined;if(maintainHeight&&aspectRatio&&containerSize.height&&height>containerSize.height){height=containerSize.height;width=round1(Math.floor(height*aspectRatio));}return{width,height};}/**\n * @param chart\n * @param forceRatio\n * @param forceStyle\n * @returns True if the canvas context size or transformation has changed.\n */function retinaScale(chart,forceRatio,forceStyle){const pixelRatio=forceRatio||1;const deviceHeight=Math.floor(chart.height*pixelRatio);const deviceWidth=Math.floor(chart.width*pixelRatio);chart.height=Math.floor(chart.height);chart.width=Math.floor(chart.width);const canvas=chart.canvas;// If no style has been set on the canvas, the render size is used as display size,\n// making the chart visually bigger, so let's enforce it to the \"correct\" values.\n// See https://github.com/chartjs/Chart.js/issues/3575\nif(canvas.style&&(forceStyle||!canvas.style.height&&!canvas.style.width)){canvas.style.height=\"\".concat(chart.height,\"px\");canvas.style.width=\"\".concat(chart.width,\"px\");}if(chart.currentDevicePixelRatio!==pixelRatio||canvas.height!==deviceHeight||canvas.width!==deviceWidth){chart.currentDevicePixelRatio=pixelRatio;canvas.height=deviceHeight;canvas.width=deviceWidth;chart.ctx.setTransform(pixelRatio,0,0,pixelRatio,0,0);return true;}return false;}/**\n * Detects support for options object argument in addEventListener.\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\n * @private\n */const supportsEventListenerOptions=function(){let passiveSupported=false;try{const options={get passive(){passiveSupported=true;return false;}};if(_isDomSupported()){window.addEventListener('test',null,options);window.removeEventListener('test',null,options);}}catch(e){// continue regardless of error\n}return passiveSupported;}();/**\n * The \"used\" size is the final value of a dimension property after all calculations have\n * been performed. This method uses the computed style of `element` but returns undefined\n * if the computed style is not expressed in pixels. That can happen in some cases where\n * `element` has a size relative to its parent and this last one is not yet displayed,\n * for example because of `display: none` on a parent node.\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/used_value\n * @returns Size in pixels or undefined if unknown.\n */function readUsedSize(element,property){const value=getStyle(element,property);const matches=value&&value.match(/^(\\d+)(\\.\\d+)?px$/);return matches?+matches[1]:undefined;}/**\n * @private\n */function _pointInLine(p1,p2,t,mode){return{x:p1.x+t*(p2.x-p1.x),y:p1.y+t*(p2.y-p1.y)};}/**\n * @private\n */function _steppedInterpolation(p1,p2,t,mode){return{x:p1.x+t*(p2.x-p1.x),y:mode==='middle'?t<0.5?p1.y:p2.y:mode==='after'?t<1?p1.y:p2.y:t>0?p2.y:p1.y};}/**\n * @private\n */function _bezierInterpolation(p1,p2,t,mode){const cp1={x:p1.cp2x,y:p1.cp2y};const cp2={x:p2.cp1x,y:p2.cp1y};const a=_pointInLine(p1,cp1,t);const b=_pointInLine(cp1,cp2,t);const c=_pointInLine(cp2,p2,t);const d=_pointInLine(a,b,t);const e=_pointInLine(b,c,t);return _pointInLine(d,e,t);}const getRightToLeftAdapter=function(rectX,width){return{x(x){return rectX+rectX+width-x;},setWidth(w){width=w;},textAlign(align){if(align==='center'){return align;}return align==='right'?'left':'right';},xPlus(x,value){return x-value;},leftForLtr(x,itemWidth){return x-itemWidth;}};};const getLeftToRightAdapter=function(){return{x(x){return x;},setWidth(w){},textAlign(align){return align;},xPlus(x,value){return x+value;},leftForLtr(x,_itemWidth){return x;}};};function getRtlAdapter(rtl,rectX,width){return rtl?getRightToLeftAdapter(rectX,width):getLeftToRightAdapter();}function overrideTextDirection(ctx,direction){let style,original;if(direction==='ltr'||direction==='rtl'){style=ctx.canvas.style;original=[style.getPropertyValue('direction'),style.getPropertyPriority('direction')];style.setProperty('direction',direction,'important');ctx.prevTextDirection=original;}}function restoreTextDirection(ctx,original){if(original!==undefined){delete ctx.prevTextDirection;ctx.canvas.style.setProperty('direction',original[0],original[1]);}}function propertyFn(property){if(property==='angle'){return{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle};}return{between:_isBetween,compare:(a,b)=>a-b,normalize:x=>x};}function normalizeSegment(_ref){let{start,end,count,loop,style}=_ref;return{start:start%count,end:end%count,loop:loop&&(end-start+1)%count===0,style};}function getSegment(segment,points,bounds){const{property,start:startBound,end:endBound}=bounds;const{between,normalize}=propertyFn(property);const count=points.length;let{start,end,loop}=segment;let i,ilen;if(loop){start+=count;end+=count;for(i=0,ilen=count;i<ilen;++i){if(!between(normalize(points[start%count][property]),startBound,endBound)){break;}start--;end--;}start%=count;end%=count;}if(end<start){end+=count;}return{start,end,loop,style:segment.style};}function _boundSegment(segment,points,bounds){if(!bounds){return[segment];}const{property,start:startBound,end:endBound}=bounds;const count=points.length;const{compare,between,normalize}=propertyFn(property);const{start,end,loop,style}=getSegment(segment,points,bounds);const result=[];let inside=false;let subStart=null;let value,point,prevValue;const startIsBefore=()=>between(startBound,prevValue,value)&&compare(startBound,prevValue)!==0;const endIsBefore=()=>compare(endBound,value)===0||between(endBound,prevValue,value);const shouldStart=()=>inside||startIsBefore();const shouldStop=()=>!inside||endIsBefore();for(let i=start,prev=start;i<=end;++i){point=points[i%count];if(point.skip){continue;}value=normalize(point[property]);if(value===prevValue){continue;}inside=between(value,startBound,endBound);if(subStart===null&&shouldStart()){subStart=compare(value,startBound)===0?i:prev;}if(subStart!==null&&shouldStop()){result.push(normalizeSegment({start:subStart,end:i,loop,count,style}));subStart=null;}prev=i;prevValue=value;}if(subStart!==null){result.push(normalizeSegment({start:subStart,end,loop,count,style}));}return result;}function _boundSegments(line,bounds){const result=[];const segments=line.segments;for(let i=0;i<segments.length;i++){const sub=_boundSegment(segments[i],line.points,bounds);if(sub.length){result.push(...sub);}}return result;}function findStartAndEnd(points,count,loop,spanGaps){let start=0;let end=count-1;if(loop&&!spanGaps){while(start<count&&!points[start].skip){start++;}}while(start<count&&points[start].skip){start++;}start%=count;if(loop){end+=start;}while(end>start&&points[end%count].skip){end--;}end%=count;return{start,end};}function solidSegments(points,start,max,loop){const count=points.length;const result=[];let last=start;let prev=points[start];let end;for(end=start+1;end<=max;++end){const cur=points[end%count];if(cur.skip||cur.stop){if(!prev.skip){loop=false;result.push({start:start%count,end:(end-1)%count,loop});start=last=cur.stop?end:null;}}else{last=end;if(prev.skip){start=end;}}prev=cur;}if(last!==null){result.push({start:start%count,end:last%count,loop});}return result;}function _computeSegments(line,segmentOptions){const points=line.points;const spanGaps=line.options.spanGaps;const count=points.length;if(!count){return[];}const loop=!!line._loop;const{start,end}=findStartAndEnd(points,count,loop,spanGaps);if(spanGaps===true){return splitByStyles(line,[{start,end,loop}],points,segmentOptions);}const max=end<start?end+count:end;const completeLoop=!!line._fullLoop&&start===0&&end===count-1;return splitByStyles(line,solidSegments(points,start,max,completeLoop),points,segmentOptions);}function splitByStyles(line,segments,points,segmentOptions){if(!segmentOptions||!segmentOptions.setContext||!points){return segments;}return doSplitByStyles(line,segments,points,segmentOptions);}function doSplitByStyles(line,segments,points,segmentOptions){const chartContext=line._chart.getContext();const baseStyle=readStyle(line.options);const{_datasetIndex:datasetIndex,options:{spanGaps}}=line;const count=points.length;const result=[];let prevStyle=baseStyle;let start=segments[0].start;let i=start;function addStyle(s,e,l,st){const dir=spanGaps?-1:1;if(s===e){return;}s+=count;while(points[s%count].skip){s-=dir;}while(points[e%count].skip){e+=dir;}if(s%count!==e%count){result.push({start:s%count,end:e%count,loop:l,style:st});prevStyle=st;start=e%count;}}for(const segment of segments){start=spanGaps?start:segment.start;let prev=points[start%count];let style;for(i=start+1;i<=segment.end;i++){const pt=points[i%count];style=readStyle(segmentOptions.setContext(createContext(chartContext,{type:'segment',p0:prev,p1:pt,p0DataIndex:(i-1)%count,p1DataIndex:i%count,datasetIndex})));if(styleChanged(style,prevStyle)){addStyle(start,i-1,segment.loop,prevStyle);}prev=pt;prevStyle=style;}if(start<i-1){addStyle(start,i-1,segment.loop,prevStyle);}}return result;}function readStyle(options){return{backgroundColor:options.backgroundColor,borderCapStyle:options.borderCapStyle,borderDash:options.borderDash,borderDashOffset:options.borderDashOffset,borderJoinStyle:options.borderJoinStyle,borderWidth:options.borderWidth,borderColor:options.borderColor};}function styleChanged(style,prevStyle){if(!prevStyle){return false;}const cache=[];const replacer=function(key,value){if(!isPatternOrGradient(value)){return value;}if(!cache.includes(value)){cache.push(value);}return cache.indexOf(value);};return JSON.stringify(style,replacer)!==JSON.stringify(prevStyle,replacer);}export{unclipArea as $,_rlookupByKey as A,_lookupByKey as B,_isPointInArea as C,getAngleFromPoint as D,toPadding as E,each as F,getMaximumSize as G,HALF_PI as H,_getParentNode as I,readUsedSize as J,supportsEventListenerOptions as K,throttled as L,_isDomSupported as M,_factorize as N,finiteOrDefault as O,PI as P,callback as Q,_addGrace as R,_limitValue as S,TAU as T,toDegrees as U,_measureText as V,_int16Range as W,_alignPixel as X,clipArea as Y,renderText as Z,_arrayUnique as _,resolve as a,fontString as a$,toFont as a0,_toLeftRightCenter as a1,_alignStartEnd as a2,overrides as a3,merge as a4,_capitalize as a5,descriptors as a6,isFunction as a7,_attachContext as a8,_createResolver as a9,overrideTextDirection as aA,_textX as aB,restoreTextDirection as aC,drawPointLegend as aD,distanceBetweenPoints as aE,noop as aF,_setMinAndMaxByKey as aG,niceNum as aH,almostWhole as aI,almostEquals as aJ,_decimalPlaces as aK,Ticks as aL,log10 as aM,_longestText as aN,_filterBetween as aO,_lookup as aP,isPatternOrGradient as aQ,getHoverColor as aR,clone as aS,_merger as aT,_mergerIf as aU,_deprecated as aV,_splitKey as aW,toFontString as aX,splineCurve as aY,splineCurveMonotone as aZ,getStyle as a_,_descriptors as aa,mergeIf as ab,uid as ac,debounce as ad,retinaScale as ae,clearCanvas as af,setsEqual as ag,_elementsEqual as ah,_isClickEvent as ai,_isBetween as aj,_readValueToProps as ak,_updateBezierControlPoints as al,_computeSegments as am,_boundSegments as an,_steppedInterpolation as ao,_bezierInterpolation as ap,_pointInLine as aq,_steppedLineTo as ar,_bezierCurveTo as as,drawPoint as at,addRoundedRectPath as au,toTRBL as av,toTRBLCorners as aw,_boundSegment as ax,_normalizeAngle as ay,getRtlAdapter as az,isArray as b,toLineHeight as b0,PITAU as b1,INFINITY as b2,RAD_PER_DEG as b3,QUARTER_PI as b4,TWO_THIRDS_PI as b5,_angleDiff as b6,color as c,defaults as d,effects as e,resolveObjectKey as f,isNumberFinite as g,defined as h,isObject as i,createContext as j,isNullOrUndef as k,listenArrayEvents as l,toPercentage as m,toDimension as n,formatNumber as o,_angleBetween as p,_getStartAndCountOfVisiblePoints as q,requestAnimFrame as r,sign as s,toRadians as t,unlistenArrayEvents as u,valueOrDefault as v,_scaleRangesChanged as w,isNumber as x,_parseObjectDataRadialScale as y,getRelativePosition as z};","map":{"version":3,"names":["noop","uid","id","isNullOrUndef","value","isArray","Array","type","Object","prototype","toString","call","slice","isObject","isNumberFinite","Number","isFinite","finiteOrDefault","defaultValue","valueOrDefault","toPercentage","dimension","endsWith","parseFloat","toDimension","callback","fn","args","thisArg","apply","each","loopable","reverse","i","len","keys","length","_elementsEqual","a0","a1","ilen","v0","v1","datasetIndex","index","clone","source","map","target","create","klen","k","isValidKey","key","indexOf","_merger","options","tval","sval","merge","sources","merger","current","mergeIf","_mergerIf","hasOwnProperty","_deprecated","scope","previous","undefined","console","warn","keyResolvers","v","x","o","y","_splitKey","parts","split","tmp","part","push","_getKeyResolver","obj","resolveObjectKey","resolver","_capitalize","str","charAt","toUpperCase","defined","isFunction","setsEqual","a","b","size","item","has","_isClickEvent","e","PI","Math","TAU","PITAU","INFINITY","POSITIVE_INFINITY","RAD_PER_DEG","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","log10","sign","almostEquals","epsilon","abs","niceNum","range","roundedRange","round","niceRange","pow","floor","fraction","niceFraction","_factorize","result","sqrt","sort","pop","isNumber","n","isNaN","almostWhole","rounded","_setMinAndMaxByKey","array","property","min","max","toRadians","degrees","toDegrees","radians","_decimalPlaces","p","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","angle","atan2","distance","distanceBetweenPoints","pt1","pt2","_angleDiff","_normalizeAngle","_angleBetween","start","end","sameAngleIsFullCircle","s","angleToStart","angleToEnd","startToAngle","endToAngle","_limitValue","_int16Range","_isBetween","arguments","_lookup","table","cmp","hi","lo","mid","_lookupByKey","last","ti","_rlookupByKey","_filterBetween","values","arrayEvents","listenArrayEvents","listener","_chartjs","listeners","defineProperty","configurable","enumerable","forEach","method","base","_len","_key","res","object","unlistenArrayEvents","stub","splice","_arrayUnique","items","set","Set","from","fontString","pixelSize","fontStyle","fontFamily","requestAnimFrame","window","requestAnimationFrame","throttled","argsToUse","ticking","_len2","_key2","debounce","delay","timeout","_len3","_key3","clearTimeout","setTimeout","_toLeftRightCenter","align","_alignStartEnd","_textX","left","right","rtl","check","_getStartAndCountOfVisiblePoints","meta","points","animationsDisabled","pointCount","count","_sorted","iScale","_parsed","axis","minDefined","maxDefined","getUserBounds","getPixelForValue","_scaleRangesChanged","xScale","yScale","_scaleRanges","newRanges","xmin","xmax","ymin","ymax","changed","assign","atEdge","t","elasticIn","sin","elasticOut","effects","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","m","d","easeInOutBounce","isPatternOrGradient","color","Color","getHoverColor","saturate","darken","hexString","numbers","colors","applyAnimationsDefaults","defaults","duration","easing","loop","to","describe","_fallback","_indexable","_scriptable","name","properties","active","animation","resize","show","animations","visible","hide","applyLayoutsDefaults","autoPadding","padding","top","bottom","intlCache","Map","getNumberFormat","locale","cacheKey","JSON","stringify","formatter","get","Intl","NumberFormat","formatNumber","num","format","formatters","numeric","tickValue","ticks","chart","notation","delta","maxTick","calculateDelta","logDelta","numDecimal","minimumFractionDigits","maximumFractionDigits","logarithmic","remain","significand","includes","Ticks","applyScaleDefaults","display","offset","beginAtZero","bounds","clip","grace","grid","lineWidth","drawOnChartArea","drawTicks","tickLength","tickWidth","_ctx","tickColor","border","dash","dashOffset","width","title","text","minRotation","maxRotation","mirror","textStrokeWidth","textStrokeColor","autoSkip","autoSkipPadding","labelOffset","minor","major","crossAlign","showLabelBackdrop","backdropColor","backdropPadding","route","startsWith","overrides","descriptors","getScope$1","node","root","Defaults","constructor","_descriptors","_appliers","backgroundColor","borderColor","datasets","devicePixelRatio","context","platform","getDevicePixelRatio","elements","events","font","family","style","lineHeight","weight","hover","hoverBackgroundColor","ctx","hoverBorderColor","hoverColor","indexAxis","interaction","mode","intersect","includeInvisible","maintainAspectRatio","onHover","onClick","parsing","plugins","responsive","scale","scales","showLine","drawActiveElementsOnTop","override","targetScope","targetName","scopeObject","targetScopeObject","privateName","defineProperties","writable","local","appliers","toFontString","_measureText","data","gc","longest","string","textWidth","measureText","_longestText","arrayOfThings","cache","garbageCollect","save","j","jlen","thing","nestedThing","restore","gcLen","_alignPixel","pixel","currentDevicePixelRatio","halfWidth","clearCanvas","canvas","getContext","resetTransform","clearRect","height","drawPoint","drawPointLegend","w","xOffset","yOffset","cornerRadius","xOffsetW","yOffsetW","pointStyle","rotation","radius","rad","translate","rotate","drawImage","beginPath","ellipse","arc","closePath","moveTo","lineTo","SQRT1_2","rect","fill","borderWidth","stroke","_isPointInArea","point","area","margin","clipArea","unclipArea","_steppedLineTo","flip","midpoint","_bezierCurveTo","bezierCurveTo","cp1x","cp2x","cp1y","cp2y","setRenderOpts","opts","translation","fillStyle","textAlign","textBaseline","decorateText","line","strikethrough","underline","metrics","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","yDecoration","strokeStyle","decorationWidth","drawBackdrop","oldColor","fillRect","renderText","lines","strokeWidth","strokeColor","backdrop","strokeText","maxWidth","fillText","addRoundedRectPath","h","topLeft","bottomLeft","bottomRight","topRight","LINE_HEIGHT","FONT_STYLE","toLineHeight","matches","match","numberOrZero","_readValueToProps","props","ret","objProps","read","prop","toTRBL","toTRBLCorners","toPadding","toFont","fallback","parseInt","resolve","inputs","info","cacheable","_addGrace","minmax","change","keepZero","add","createContext","parentContext","_createResolver","scopes","prefixes","rootScopes","getTarget","finalRootScopes","_resolve","Symbol","toStringTag","_cacheable","_scopes","_rootScopes","_getTarget","Proxy","deleteProperty","_keys","_cached","_resolveWithPrefixes","getOwnPropertyDescriptor","Reflect","getPrototypeOf","getKeysFromAllScopes","ownKeys","storage","_storage","_attachContext","proxy","subProxy","descriptorDefaults","_proxy","_context","_subProxy","_stack","setContext","receiver","_resolveWithContext","allKeys","scriptable","indexable","_allKeys","isScriptable","isIndexable","readKey","prefix","needsSubResolver","_resolveScriptable","_resolveArray","getValue","Error","join","delete","createSubResolver","arr","filter","resolveFallback","getScope","parent","addScopes","parentScopes","parentFallback","allScopes","addScopesFromKey","subGetTarget","resolveKeysFromAllScopes","_parseObjectDataRadialScale","_parsing","parsed","r","parse","EPSILON","getPoint","skip","getValueAxis","splineCurve","firstPoint","middlePoint","afterPoint","next","d01","d12","s01","s12","fa","fb","monotoneAdjust","deltaK","mK","pointsLen","alphaK","betaK","tauK","squaredMagnitude","pointCurrent","pointAfter","monotoneCompute","valueAxis","pointBefore","iPixel","vPixel","concat","splineCurveMonotone","slopeDelta","capControlPoint","pt","capBezierPoints","inArea","inAreaPrev","inAreaNext","_updateBezierControlPoints","controlPoints","spanGaps","cubicInterpolationMode","prev","tension","_isDomSupported","document","_getParentNode","domNode","parentNode","host","parseMaxStyle","styleValue","parentProperty","valueInPixels","getComputedStyle","element","ownerDocument","defaultView","getStyle","el","getPropertyValue","positions","getPositionedStyle","styles","suffix","pos","useOffsetPos","shadowRoot","getCanvasPosition","touches","offsetX","offsetY","box","getBoundingClientRect","clientX","clientY","getRelativePosition","event","borderBox","boxSizing","paddings","borders","getContainerSize","maxHeight","container","clientWidth","clientHeight","containerStyle","containerBorder","containerPadding","round1","getMaximumSize","bbWidth","bbHeight","aspectRatio","margins","containerSize","maintainHeight","retinaScale","forceRatio","forceStyle","pixelRatio","deviceHeight","deviceWidth","setTransform","supportsEventListenerOptions","passiveSupported","passive","addEventListener","removeEventListener","readUsedSize","_pointInLine","p1","p2","_steppedInterpolation","_bezierInterpolation","cp1","cp2","c","getRightToLeftAdapter","rectX","setWidth","xPlus","leftForLtr","itemWidth","getLeftToRightAdapter","_itemWidth","getRtlAdapter","overrideTextDirection","direction","original","getPropertyPriority","setProperty","prevTextDirection","restoreTextDirection","propertyFn","between","compare","normalize","normalizeSegment","_ref","getSegment","segment","startBound","endBound","_boundSegment","inside","subStart","prevValue","startIsBefore","endIsBefore","shouldStart","shouldStop","_boundSegments","segments","sub","findStartAndEnd","solidSegments","cur","stop","_computeSegments","segmentOptions","_loop","splitByStyles","completeLoop","_fullLoop","doSplitByStyles","chartContext","_chart","baseStyle","readStyle","_datasetIndex","prevStyle","addStyle","l","st","dir","p0","p0DataIndex","p1DataIndex","styleChanged","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","replacer"],"sources":["/Users/theodiloreto/Desktop/examen 5 3/jo/src/node_modules/chart.js/src/helpers/helpers.core.ts","/Users/theodiloreto/Desktop/examen 5 3/jo/src/node_modules/chart.js/src/helpers/helpers.math.ts","/Users/theodiloreto/Desktop/examen 5 3/jo/src/node_modules/chart.js/src/helpers/helpers.collection.ts","/Users/theodiloreto/Desktop/examen 5 3/jo/src/node_modules/chart.js/src/helpers/helpers.extras.ts","/Users/theodiloreto/Desktop/examen 5 3/jo/src/node_modules/chart.js/src/helpers/helpers.easing.ts","/Users/theodiloreto/Desktop/examen 5 3/jo/src/node_modules/chart.js/src/helpers/helpers.color.ts","/Users/theodiloreto/Desktop/examen 5 3/jo/src/node_modules/chart.js/src/core/core.animations.defaults.js","/Users/theodiloreto/Desktop/examen 5 3/jo/src/node_modules/chart.js/src/core/core.layouts.defaults.js","/Users/theodiloreto/Desktop/examen 5 3/jo/src/node_modules/chart.js/src/helpers/helpers.intl.ts","/Users/theodiloreto/Desktop/examen 5 3/jo/src/node_modules/chart.js/src/core/core.ticks.js","/Users/theodiloreto/Desktop/examen 5 3/jo/src/node_modules/chart.js/src/core/core.scale.defaults.js","/Users/theodiloreto/Desktop/examen 5 3/jo/src/node_modules/chart.js/src/core/core.defaults.js","/Users/theodiloreto/Desktop/examen 5 3/jo/src/node_modules/chart.js/src/helpers/helpers.canvas.ts","/Users/theodiloreto/Desktop/examen 5 3/jo/src/node_modules/chart.js/src/helpers/helpers.options.ts","/Users/theodiloreto/Desktop/examen 5 3/jo/src/node_modules/chart.js/src/helpers/helpers.config.ts","/Users/theodiloreto/Desktop/examen 5 3/jo/src/node_modules/chart.js/src/helpers/helpers.curve.ts","/Users/theodiloreto/Desktop/examen 5 3/jo/src/node_modules/chart.js/src/helpers/helpers.dom.ts","/Users/theodiloreto/Desktop/examen 5 3/jo/src/node_modules/chart.js/src/helpers/helpers.interpolation.ts","/Users/theodiloreto/Desktop/examen 5 3/jo/src/node_modules/chart.js/src/helpers/helpers.rtl.ts","/Users/theodiloreto/Desktop/examen 5 3/jo/src/node_modules/chart.js/src/helpers/helpers.segment.js"],"sourcesContent":["/**\n * @namespace Chart.helpers\n */\n\nimport type {AnyObject} from '../types/basic.js';\nimport type {ActiveDataPoint, ChartEvent} from '../types/index.js';\n\n/**\n * An empty function that can be used, for example, for optional callback.\n */\nexport function noop() {\n  /* noop */\n}\n\n/**\n * Returns a unique id, sequentially generated from a global variable.\n */\nexport const uid = (() => {\n  let id = 0;\n  return () => id++;\n})();\n\n/**\n * Returns true if `value` is neither null nor undefined, else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */\nexport function isNullOrUndef(value: unknown): value is null | undefined {\n  return value === null || typeof value === 'undefined';\n}\n\n/**\n * Returns true if `value` is an array (including typed arrays), else returns false.\n * @param value - The value to test.\n * @function\n */\nexport function isArray<T = unknown>(value: unknown): value is T[] {\n  if (Array.isArray && Array.isArray(value)) {\n    return true;\n  }\n  const type = Object.prototype.toString.call(value);\n  if (type.slice(0, 7) === '[object' && type.slice(-6) === 'Array]') {\n    return true;\n  }\n  return false;\n}\n\n/**\n * Returns true if `value` is an object (excluding null), else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */\nexport function isObject(value: unknown): value is AnyObject {\n  return value !== null && Object.prototype.toString.call(value) === '[object Object]';\n}\n\n/**\n * Returns true if `value` is a finite number, else returns false\n * @param value  - The value to test.\n */\nfunction isNumberFinite(value: unknown): value is number {\n  return (typeof value === 'number' || value instanceof Number) && isFinite(+value);\n}\nexport {\n  isNumberFinite as isFinite,\n};\n\n/**\n * Returns `value` if finite, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is not finite.\n */\nexport function finiteOrDefault(value: unknown, defaultValue: number) {\n  return isNumberFinite(value) ? value : defaultValue;\n}\n\n/**\n * Returns `value` if defined, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is undefined.\n */\nexport function valueOrDefault<T>(value: T | undefined, defaultValue: T) {\n  return typeof value === 'undefined' ? defaultValue : value;\n}\n\nexport const toPercentage = (value: number | string, dimension: number) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100\n    : +value / dimension;\n\nexport const toDimension = (value: number | string, dimension: number) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100 * dimension\n    : +value;\n\n/**\n * Calls `fn` with the given `args` in the scope defined by `thisArg` and returns the\n * value returned by `fn`. If `fn` is not a function, this method returns undefined.\n * @param fn - The function to call.\n * @param args - The arguments with which `fn` should be called.\n * @param [thisArg] - The value of `this` provided for the call to `fn`.\n */\nexport function callback<T extends (this: TA, ...restArgs: unknown[]) => R, TA, R>(\n  fn: T | undefined,\n  args: unknown[],\n  thisArg?: TA\n): R | undefined {\n  if (fn && typeof fn.call === 'function') {\n    return fn.apply(thisArg, args);\n  }\n}\n\n/**\n * Note(SB) for performance sake, this method should only be used when loopable type\n * is unknown or in none intensive code (not called often and small loopable). Else\n * it's preferable to use a regular for() loop and save extra function calls.\n * @param loopable - The object or array to be iterated.\n * @param fn - The function to call for each item.\n * @param [thisArg] - The value of `this` provided for the call to `fn`.\n * @param [reverse] - If true, iterates backward on the loopable.\n */\nexport function each<T, TA>(\n  loopable: Record<string, T>,\n  fn: (this: TA, v: T, i: string) => void,\n  thisArg?: TA,\n  reverse?: boolean\n): void;\nexport function each<T, TA>(\n  loopable: T[],\n  fn: (this: TA, v: T, i: number) => void,\n  thisArg?: TA,\n  reverse?: boolean\n): void;\nexport function each<T, TA>(\n  loopable: T[] | Record<string, T>,\n  fn: (this: TA, v: T, i: any) => void,\n  thisArg?: TA,\n  reverse?: boolean\n) {\n  let i: number, len: number, keys: string[];\n  if (isArray(loopable)) {\n    len = loopable.length;\n    if (reverse) {\n      for (i = len - 1; i >= 0; i--) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    } else {\n      for (i = 0; i < len; i++) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    }\n  } else if (isObject(loopable)) {\n    keys = Object.keys(loopable);\n    len = keys.length;\n    for (i = 0; i < len; i++) {\n      fn.call(thisArg, loopable[keys[i]], keys[i]);\n    }\n  }\n}\n\n/**\n * Returns true if the `a0` and `a1` arrays have the same content, else returns false.\n * @param a0 - The array to compare\n * @param a1 - The array to compare\n * @private\n */\nexport function _elementsEqual(a0: ActiveDataPoint[], a1: ActiveDataPoint[]) {\n  let i: number, ilen: number, v0: ActiveDataPoint, v1: ActiveDataPoint;\n\n  if (!a0 || !a1 || a0.length !== a1.length) {\n    return false;\n  }\n\n  for (i = 0, ilen = a0.length; i < ilen; ++i) {\n    v0 = a0[i];\n    v1 = a1[i];\n\n    if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Returns a deep copy of `source` without keeping references on objects and arrays.\n * @param source - The value to clone.\n */\nexport function clone<T>(source: T): T {\n  if (isArray(source)) {\n    return source.map(clone) as unknown as T;\n  }\n\n  if (isObject(source)) {\n    const target = Object.create(null);\n    const keys = Object.keys(source);\n    const klen = keys.length;\n    let k = 0;\n\n    for (; k < klen; ++k) {\n      target[keys[k]] = clone(source[keys[k]]);\n    }\n\n    return target;\n  }\n\n  return source;\n}\n\nfunction isValidKey(key: string) {\n  return ['__proto__', 'prototype', 'constructor'].indexOf(key) === -1;\n}\n\n/**\n * The default merger when Chart.helpers.merge is called without merger option.\n * Note(SB): also used by mergeConfig and mergeScaleConfig as fallback.\n * @private\n */\nexport function _merger(key: string, target: AnyObject, source: AnyObject, options: AnyObject) {\n  if (!isValidKey(key)) {\n    return;\n  }\n\n  const tval = target[key];\n  const sval = source[key];\n\n  if (isObject(tval) && isObject(sval)) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    merge(tval, sval, options);\n  } else {\n    target[key] = clone(sval);\n  }\n}\n\nexport interface MergeOptions {\n  merger?: (key: string, target: AnyObject, source: AnyObject, options?: AnyObject) => void;\n}\n\n/**\n * Recursively deep copies `source` properties into `target` with the given `options`.\n * IMPORTANT: `target` is not cloned and will be updated with `source` properties.\n * @param target - The target object in which all sources are merged into.\n * @param source - Object(s) to merge into `target`.\n * @param [options] - Merging options:\n * @param [options.merger] - The merge method (key, target, source, options)\n * @returns The `target` object.\n */\nexport function merge<T>(target: T, source: [], options?: MergeOptions): T;\nexport function merge<T, S1>(target: T, source: S1, options?: MergeOptions): T & S1;\nexport function merge<T, S1>(target: T, source: [S1], options?: MergeOptions): T & S1;\nexport function merge<T, S1, S2>(target: T, source: [S1, S2], options?: MergeOptions): T & S1 & S2;\nexport function merge<T, S1, S2, S3>(target: T, source: [S1, S2, S3], options?: MergeOptions): T & S1 & S2 & S3;\nexport function merge<T, S1, S2, S3, S4>(\n  target: T,\n  source: [S1, S2, S3, S4],\n  options?: MergeOptions\n): T & S1 & S2 & S3 & S4;\nexport function merge<T>(target: T, source: AnyObject[], options?: MergeOptions): AnyObject;\nexport function merge<T>(target: T, source: AnyObject[], options?: MergeOptions): AnyObject {\n  const sources = isArray(source) ? source : [source];\n  const ilen = sources.length;\n\n  if (!isObject(target)) {\n    return target as AnyObject;\n  }\n\n  options = options || {};\n  const merger = options.merger || _merger;\n  let current: AnyObject;\n\n  for (let i = 0; i < ilen; ++i) {\n    current = sources[i];\n    if (!isObject(current)) {\n      continue;\n    }\n\n    const keys = Object.keys(current);\n    for (let k = 0, klen = keys.length; k < klen; ++k) {\n      merger(keys[k], target, current, options as AnyObject);\n    }\n  }\n\n  return target;\n}\n\n/**\n * Recursively deep copies `source` properties into `target` *only* if not defined in target.\n * IMPORTANT: `target` is not cloned and will be updated with `source` properties.\n * @param target - The target object in which all sources are merged into.\n * @param source - Object(s) to merge into `target`.\n * @returns The `target` object.\n */\nexport function mergeIf<T>(target: T, source: []): T;\nexport function mergeIf<T, S1>(target: T, source: S1): T & S1;\nexport function mergeIf<T, S1>(target: T, source: [S1]): T & S1;\nexport function mergeIf<T, S1, S2>(target: T, source: [S1, S2]): T & S1 & S2;\nexport function mergeIf<T, S1, S2, S3>(target: T, source: [S1, S2, S3]): T & S1 & S2 & S3;\nexport function mergeIf<T, S1, S2, S3, S4>(target: T, source: [S1, S2, S3, S4]): T & S1 & S2 & S3 & S4;\nexport function mergeIf<T>(target: T, source: AnyObject[]): AnyObject;\nexport function mergeIf<T>(target: T, source: AnyObject[]): AnyObject {\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n  return merge<T>(target, source, {merger: _mergerIf});\n}\n\n/**\n * Merges source[key] in target[key] only if target[key] is undefined.\n * @private\n */\nexport function _mergerIf(key: string, target: AnyObject, source: AnyObject) {\n  if (!isValidKey(key)) {\n    return;\n  }\n\n  const tval = target[key];\n  const sval = source[key];\n\n  if (isObject(tval) && isObject(sval)) {\n    mergeIf(tval, sval);\n  } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\n    target[key] = clone(sval);\n  }\n}\n\n/**\n * @private\n */\nexport function _deprecated(scope: string, value: unknown, previous: string, current: string) {\n  if (value !== undefined) {\n    console.warn(scope + ': \"' + previous +\n      '\" is deprecated. Please use \"' + current + '\" instead');\n  }\n}\n\n// resolveObjectKey resolver cache\nconst keyResolvers = {\n  // Chart.helpers.core resolveObjectKey should resolve empty key to root object\n  '': v => v,\n  // default resolvers\n  x: o => o.x,\n  y: o => o.y\n};\n\n/**\n * @private\n */\nexport function _splitKey(key: string) {\n  const parts = key.split('.');\n  const keys: string[] = [];\n  let tmp = '';\n  for (const part of parts) {\n    tmp += part;\n    if (tmp.endsWith('\\\\')) {\n      tmp = tmp.slice(0, -1) + '.';\n    } else {\n      keys.push(tmp);\n      tmp = '';\n    }\n  }\n  return keys;\n}\n\nfunction _getKeyResolver(key: string) {\n  const keys = _splitKey(key);\n  return obj => {\n    for (const k of keys) {\n      if (k === '') {\n        // For backward compatibility:\n        // Chart.helpers.core resolveObjectKey should break at empty key\n        break;\n      }\n      obj = obj && obj[k];\n    }\n    return obj;\n  };\n}\n\nexport function resolveObjectKey(obj: AnyObject, key: string): any {\n  const resolver = keyResolvers[key] || (keyResolvers[key] = _getKeyResolver(key));\n  return resolver(obj);\n}\n\n/**\n * @private\n */\nexport function _capitalize(str: string) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\n\nexport const defined = (value: unknown) => typeof value !== 'undefined';\n\nexport const isFunction = (value: unknown): value is (...args: any[]) => any => typeof value === 'function';\n\n// Adapted from https://stackoverflow.com/questions/31128855/comparing-ecma6-sets-for-equality#31129384\nexport const setsEqual = <T>(a: Set<T>, b: Set<T>) => {\n  if (a.size !== b.size) {\n    return false;\n  }\n\n  for (const item of a) {\n    if (!b.has(item)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/**\n * @param e - The event\n * @private\n */\nexport function _isClickEvent(e: ChartEvent) {\n  return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu';\n}\n","import type {Point} from '../types/geometric.js';\nimport {isFinite as isFiniteNumber} from './helpers.core.js';\n\n/**\n * @alias Chart.helpers.math\n * @namespace\n */\n\nexport const PI = Math.PI;\nexport const TAU = 2 * PI;\nexport const PITAU = TAU + PI;\nexport const INFINITY = Number.POSITIVE_INFINITY;\nexport const RAD_PER_DEG = PI / 180;\nexport const HALF_PI = PI / 2;\nexport const QUARTER_PI = PI / 4;\nexport const TWO_THIRDS_PI = PI * 2 / 3;\n\nexport const log10 = Math.log10;\nexport const sign = Math.sign;\n\nexport function almostEquals(x: number, y: number, epsilon: number) {\n  return Math.abs(x - y) < epsilon;\n}\n\n/**\n * Implementation of the nice number algorithm used in determining where axis labels will go\n */\nexport function niceNum(range: number) {\n  const roundedRange = Math.round(range);\n  range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;\n  const niceRange = Math.pow(10, Math.floor(log10(range)));\n  const fraction = range / niceRange;\n  const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\n  return niceFraction * niceRange;\n}\n\n/**\n * Returns an array of factors sorted from 1 to sqrt(value)\n * @private\n */\nexport function _factorize(value: number) {\n  const result: number[] = [];\n  const sqrt = Math.sqrt(value);\n  let i: number;\n\n  for (i = 1; i < sqrt; i++) {\n    if (value % i === 0) {\n      result.push(i);\n      result.push(value / i);\n    }\n  }\n  if (sqrt === (sqrt | 0)) { // if value is a square number\n    result.push(sqrt);\n  }\n\n  result.sort((a, b) => a - b).pop();\n  return result;\n}\n\nexport function isNumber(n: unknown): n is number {\n  return !isNaN(parseFloat(n as string)) && isFinite(n as number);\n}\n\nexport function almostWhole(x: number, epsilon: number) {\n  const rounded = Math.round(x);\n  return ((rounded - epsilon) <= x) && ((rounded + epsilon) >= x);\n}\n\n/**\n * @private\n */\nexport function _setMinAndMaxByKey(\n  array: Record<string, number>[],\n  target: { min: number, max: number },\n  property: string\n) {\n  let i: number, ilen: number, value: number;\n\n  for (i = 0, ilen = array.length; i < ilen; i++) {\n    value = array[i][property];\n    if (!isNaN(value)) {\n      target.min = Math.min(target.min, value);\n      target.max = Math.max(target.max, value);\n    }\n  }\n}\n\nexport function toRadians(degrees: number) {\n  return degrees * (PI / 180);\n}\n\nexport function toDegrees(radians: number) {\n  return radians * (180 / PI);\n}\n\n/**\n * Returns the number of decimal places\n * i.e. the number of digits after the decimal point, of the value of this Number.\n * @param x - A number.\n * @returns The number of decimal places.\n * @private\n */\nexport function _decimalPlaces(x: number) {\n  if (!isFiniteNumber(x)) {\n    return;\n  }\n  let e = 1;\n  let p = 0;\n  while (Math.round(x * e) / e !== x) {\n    e *= 10;\n    p++;\n  }\n  return p;\n}\n\n// Gets the angle from vertical upright to the point about a centre.\nexport function getAngleFromPoint(\n  centrePoint: Point,\n  anglePoint: Point\n) {\n  const distanceFromXCenter = anglePoint.x - centrePoint.x;\n  const distanceFromYCenter = anglePoint.y - centrePoint.y;\n  const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n\n  let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n\n  if (angle < (-0.5 * PI)) {\n    angle += TAU; // make sure the returned angle is in the range of (-PI/2, 3PI/2]\n  }\n\n  return {\n    angle,\n    distance: radialDistanceFromCenter\n  };\n}\n\nexport function distanceBetweenPoints(pt1: Point, pt2: Point) {\n  return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n}\n\n/**\n * Shortest distance between angles, in either direction.\n * @private\n */\nexport function _angleDiff(a: number, b: number) {\n  return (a - b + PITAU) % TAU - PI;\n}\n\n/**\n * Normalize angle to be between 0 and 2*PI\n * @private\n */\nexport function _normalizeAngle(a: number) {\n  return (a % TAU + TAU) % TAU;\n}\n\n/**\n * @private\n */\nexport function _angleBetween(angle: number, start: number, end: number, sameAngleIsFullCircle?: boolean) {\n  const a = _normalizeAngle(angle);\n  const s = _normalizeAngle(start);\n  const e = _normalizeAngle(end);\n  const angleToStart = _normalizeAngle(s - a);\n  const angleToEnd = _normalizeAngle(e - a);\n  const startToAngle = _normalizeAngle(a - s);\n  const endToAngle = _normalizeAngle(a - e);\n  return a === s || a === e || (sameAngleIsFullCircle && s === e)\n    || (angleToStart > angleToEnd && startToAngle < endToAngle);\n}\n\n/**\n * Limit `value` between `min` and `max`\n * @param value\n * @param min\n * @param max\n * @private\n */\nexport function _limitValue(value: number, min: number, max: number) {\n  return Math.max(min, Math.min(max, value));\n}\n\n/**\n * @param {number} value\n * @private\n */\nexport function _int16Range(value: number) {\n  return _limitValue(value, -32768, 32767);\n}\n\n/**\n * @param value\n * @param start\n * @param end\n * @param [epsilon]\n * @private\n */\nexport function _isBetween(value: number, start: number, end: number, epsilon = 1e-6) {\n  return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon;\n}\n","import {_capitalize} from './helpers.core.js';\n\n/**\n * Binary search\n * @param table - the table search. must be sorted!\n * @param value - value to find\n * @param cmp\n * @private\n */\nexport function _lookup(\n  table: number[],\n  value: number,\n  cmp?: (value: number) => boolean\n): {lo: number, hi: number};\nexport function _lookup<T>(\n  table: T[],\n  value: number,\n  cmp: (value: number) => boolean\n): {lo: number, hi: number};\nexport function _lookup(\n  table: unknown[],\n  value: number,\n  cmp?: (value: number) => boolean\n) {\n  cmp = cmp || ((index) => table[index] < value);\n  let hi = table.length - 1;\n  let lo = 0;\n  let mid: number;\n\n  while (hi - lo > 1) {\n    mid = (lo + hi) >> 1;\n    if (cmp(mid)) {\n      lo = mid;\n    } else {\n      hi = mid;\n    }\n  }\n\n  return {lo, hi};\n}\n\n/**\n * Binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @param last - lookup last index\n * @private\n */\nexport const _lookupByKey = (\n  table: Record<string, number>[],\n  key: string,\n  value: number,\n  last?: boolean\n) =>\n  _lookup(table, value, last\n    ? index => {\n      const ti = table[index][key];\n      return ti < value || ti === value && table[index + 1][key] === value;\n    }\n    : index => table[index][key] < value);\n\n/**\n * Reverse binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @private\n */\nexport const _rlookupByKey = (\n  table: Record<string, number>[],\n  key: string,\n  value: number\n) =>\n  _lookup(table, value, index => table[index][key] >= value);\n\n/**\n * Return subset of `values` between `min` and `max` inclusive.\n * Values are assumed to be in sorted order.\n * @param values - sorted array of values\n * @param min - min value\n * @param max - max value\n */\nexport function _filterBetween(values: number[], min: number, max: number) {\n  let start = 0;\n  let end = values.length;\n\n  while (start < end && values[start] < min) {\n    start++;\n  }\n  while (end > start && values[end - 1] > max) {\n    end--;\n  }\n\n  return start > 0 || end < values.length\n    ? values.slice(start, end)\n    : values;\n}\n\nconst arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'] as const;\n\nexport interface ArrayListener<T> {\n  _onDataPush?(...item: T[]): void;\n  _onDataPop?(): void;\n  _onDataShift?(): void;\n  _onDataSplice?(index: number, deleteCount: number, ...items: T[]): void;\n  _onDataUnshift?(...item: T[]): void;\n}\n\n/**\n * Hooks the array methods that add or remove values ('push', pop', 'shift', 'splice',\n * 'unshift') and notify the listener AFTER the array has been altered. Listeners are\n * called on the '_onData*' callbacks (e.g. _onDataPush, etc.) with same arguments.\n */\nexport function listenArrayEvents<T>(array: T[], listener: ArrayListener<T>): void;\nexport function listenArrayEvents(array, listener) {\n  if (array._chartjs) {\n    array._chartjs.listeners.push(listener);\n    return;\n  }\n\n  Object.defineProperty(array, '_chartjs', {\n    configurable: true,\n    enumerable: false,\n    value: {\n      listeners: [listener]\n    }\n  });\n\n  arrayEvents.forEach((key) => {\n    const method = '_onData' + _capitalize(key);\n    const base = array[key];\n\n    Object.defineProperty(array, key, {\n      configurable: true,\n      enumerable: false,\n      value(...args) {\n        const res = base.apply(this, args);\n\n        array._chartjs.listeners.forEach((object) => {\n          if (typeof object[method] === 'function') {\n            object[method](...args);\n          }\n        });\n\n        return res;\n      }\n    });\n  });\n}\n\n\n/**\n * Removes the given array event listener and cleanup extra attached properties (such as\n * the _chartjs stub and overridden methods) if array doesn't have any more listeners.\n */\nexport function unlistenArrayEvents<T>(array: T[], listener: ArrayListener<T>): void;\nexport function unlistenArrayEvents(array, listener) {\n  const stub = array._chartjs;\n  if (!stub) {\n    return;\n  }\n\n  const listeners = stub.listeners;\n  const index = listeners.indexOf(listener);\n  if (index !== -1) {\n    listeners.splice(index, 1);\n  }\n\n  if (listeners.length > 0) {\n    return;\n  }\n\n  arrayEvents.forEach((key) => {\n    delete array[key];\n  });\n\n  delete array._chartjs;\n}\n\n/**\n * @param items\n */\nexport function _arrayUnique<T>(items: T[]) {\n  const set = new Set<T>(items);\n\n  if (set.size === items.length) {\n    return items;\n  }\n\n  return Array.from(set);\n}\n","import type {ChartMeta, PointElement} from '../types/index.js';\n\nimport {_limitValue} from './helpers.math.js';\nimport {_lookupByKey} from './helpers.collection.js';\n\nexport function fontString(pixelSize: number, fontStyle: string, fontFamily: string) {\n  return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n}\n\n/**\n* Request animation polyfill\n*/\nexport const requestAnimFrame = (function() {\n  if (typeof window === 'undefined') {\n    return function(callback) {\n      return callback();\n    };\n  }\n  return window.requestAnimationFrame;\n}());\n\n/**\n * Throttles calling `fn` once per animation frame\n * Latest arguments are used on the actual call\n */\nexport function throttled<TArgs extends Array<any>>(\n  fn: (...args: TArgs) => void,\n  thisArg: any,\n) {\n  let argsToUse = [] as TArgs;\n  let ticking = false;\n\n  return function(...args: TArgs) {\n    // Save the args for use later\n    argsToUse = args;\n    if (!ticking) {\n      ticking = true;\n      requestAnimFrame.call(window, () => {\n        ticking = false;\n        fn.apply(thisArg, argsToUse);\n      });\n    }\n  };\n}\n\n/**\n * Debounces calling `fn` for `delay` ms\n */\nexport function debounce<TArgs extends Array<any>>(fn: (...args: TArgs) => void, delay: number) {\n  let timeout;\n  return function(...args: TArgs) {\n    if (delay) {\n      clearTimeout(timeout);\n      timeout = setTimeout(fn, delay, args);\n    } else {\n      fn.apply(this, args);\n    }\n    return delay;\n  };\n}\n\n/**\n * Converts 'start' to 'left', 'end' to 'right' and others to 'center'\n * @private\n */\nexport const _toLeftRightCenter = (align: 'start' | 'end' | 'center') => align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\n\n/**\n * Returns `start`, `end` or `(start + end) / 2` depending on `align`. Defaults to `center`\n * @private\n */\nexport const _alignStartEnd = (align: 'start' | 'end' | 'center', start: number, end: number) => align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\n\n/**\n * Returns `left`, `right` or `(left + right) / 2` depending on `align`. Defaults to `left`\n * @private\n */\nexport const _textX = (align: 'left' | 'right' | 'center', left: number, right: number, rtl: boolean) => {\n  const check = rtl ? 'left' : 'right';\n  return align === check ? right : align === 'center' ? (left + right) / 2 : left;\n};\n\n/**\n * Return start and count of visible points.\n * @private\n */\nexport function _getStartAndCountOfVisiblePoints(meta: ChartMeta<'line' | 'scatter'>, points: PointElement[], animationsDisabled: boolean) {\n  const pointCount = points.length;\n\n  let start = 0;\n  let count = pointCount;\n\n  if (meta._sorted) {\n    const {iScale, _parsed} = meta;\n    const axis = iScale.axis;\n    const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n\n    if (minDefined) {\n      start = _limitValue(Math.min(\n        // @ts-expect-error Need to type _parsed\n        _lookupByKey(_parsed, axis, min).lo,\n        // @ts-expect-error Need to fix types on _lookupByKey\n        animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo),\n      0, pointCount - 1);\n    }\n    if (maxDefined) {\n      count = _limitValue(Math.max(\n        // @ts-expect-error Need to type _parsed\n        _lookupByKey(_parsed, iScale.axis, max, true).hi + 1,\n        // @ts-expect-error Need to fix types on _lookupByKey\n        animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max), true).hi + 1),\n      start, pointCount) - start;\n    } else {\n      count = pointCount - start;\n    }\n  }\n\n  return {start, count};\n}\n\n/**\n * Checks if the scale ranges have changed.\n * @param {object} meta - dataset meta.\n * @returns {boolean}\n * @private\n */\nexport function _scaleRangesChanged(meta) {\n  const {xScale, yScale, _scaleRanges} = meta;\n  const newRanges = {\n    xmin: xScale.min,\n    xmax: xScale.max,\n    ymin: yScale.min,\n    ymax: yScale.max\n  };\n  if (!_scaleRanges) {\n    meta._scaleRanges = newRanges;\n    return true;\n  }\n  const changed = _scaleRanges.xmin !== xScale.min\n\t\t|| _scaleRanges.xmax !== xScale.max\n\t\t|| _scaleRanges.ymin !== yScale.min\n\t\t|| _scaleRanges.ymax !== yScale.max;\n\n  Object.assign(_scaleRanges, newRanges);\n  return changed;\n}\n","import {PI, TAU, HALF_PI} from './helpers.math.js';\n\nconst atEdge = (t: number) => t === 0 || t === 1;\nconst elasticIn = (t: number, s: number, p: number) => -(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\nconst elasticOut = (t: number, s: number, p: number) => Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\n\n/**\n * Easing functions adapted from Robert Penner's easing equations.\n * @namespace Chart.helpers.easing.effects\n * @see http://www.robertpenner.com/easing/\n */\nconst effects = {\n  linear: (t: number) => t,\n\n  easeInQuad: (t: number) => t * t,\n\n  easeOutQuad: (t: number) => -t * (t - 2),\n\n  easeInOutQuad: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t\n    : -0.5 * ((--t) * (t - 2) - 1),\n\n  easeInCubic: (t: number) => t * t * t,\n\n  easeOutCubic: (t: number) => (t -= 1) * t * t + 1,\n\n  easeInOutCubic: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t\n    : 0.5 * ((t -= 2) * t * t + 2),\n\n  easeInQuart: (t: number) => t * t * t * t,\n\n  easeOutQuart: (t: number) => -((t -= 1) * t * t * t - 1),\n\n  easeInOutQuart: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t\n    : -0.5 * ((t -= 2) * t * t * t - 2),\n\n  easeInQuint: (t: number) => t * t * t * t * t,\n\n  easeOutQuint: (t: number) => (t -= 1) * t * t * t * t + 1,\n\n  easeInOutQuint: (t: number) => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t * t\n    : 0.5 * ((t -= 2) * t * t * t * t + 2),\n\n  easeInSine: (t: number) => -Math.cos(t * HALF_PI) + 1,\n\n  easeOutSine: (t: number) => Math.sin(t * HALF_PI),\n\n  easeInOutSine: (t: number) => -0.5 * (Math.cos(PI * t) - 1),\n\n  easeInExpo: (t: number) => (t === 0) ? 0 : Math.pow(2, 10 * (t - 1)),\n\n  easeOutExpo: (t: number) => (t === 1) ? 1 : -Math.pow(2, -10 * t) + 1,\n\n  easeInOutExpo: (t: number) => atEdge(t) ? t : t < 0.5\n    ? 0.5 * Math.pow(2, 10 * (t * 2 - 1))\n    : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),\n\n  easeInCirc: (t: number) => (t >= 1) ? t : -(Math.sqrt(1 - t * t) - 1),\n\n  easeOutCirc: (t: number) => Math.sqrt(1 - (t -= 1) * t),\n\n  easeInOutCirc: (t: number) => ((t /= 0.5) < 1)\n    ? -0.5 * (Math.sqrt(1 - t * t) - 1)\n    : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),\n\n  easeInElastic: (t: number) => atEdge(t) ? t : elasticIn(t, 0.075, 0.3),\n\n  easeOutElastic: (t: number) => atEdge(t) ? t : elasticOut(t, 0.075, 0.3),\n\n  easeInOutElastic(t: number) {\n    const s = 0.1125;\n    const p = 0.45;\n    return atEdge(t) ? t :\n      t < 0.5\n        ? 0.5 * elasticIn(t * 2, s, p)\n        : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\n  },\n\n  easeInBack(t: number) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n  },\n\n  easeOutBack(t: number) {\n    const s = 1.70158;\n    return (t -= 1) * t * ((s + 1) * t + s) + 1;\n  },\n\n  easeInOutBack(t: number) {\n    let s = 1.70158;\n    if ((t /= 0.5) < 1) {\n      return 0.5 * (t * t * (((s *= (1.525)) + 1) * t - s));\n    }\n    return 0.5 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\n  },\n\n  easeInBounce: (t: number) => 1 - effects.easeOutBounce(1 - t),\n\n  easeOutBounce(t: number) {\n    const m = 7.5625;\n    const d = 2.75;\n    if (t < (1 / d)) {\n      return m * t * t;\n    }\n    if (t < (2 / d)) {\n      return m * (t -= (1.5 / d)) * t + 0.75;\n    }\n    if (t < (2.5 / d)) {\n      return m * (t -= (2.25 / d)) * t + 0.9375;\n    }\n    return m * (t -= (2.625 / d)) * t + 0.984375;\n  },\n\n  easeInOutBounce: (t: number) => (t < 0.5)\n    ? effects.easeInBounce(t * 2) * 0.5\n    : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5,\n} as const;\n\nexport type EasingFunction = keyof typeof effects\n\nexport default effects;\n","import {Color} from '@kurkle/color';\n\nexport function isPatternOrGradient(value: unknown): value is CanvasPattern | CanvasGradient {\n  if (value && typeof value === 'object') {\n    const type = value.toString();\n    return type === '[object CanvasPattern]' || type === '[object CanvasGradient]';\n  }\n\n  return false;\n}\n\nexport function color(value: CanvasGradient): CanvasGradient;\nexport function color(value: CanvasPattern): CanvasPattern;\nexport function color(\n  value:\n  | string\n  | { r: number; g: number; b: number; a: number }\n  | [number, number, number]\n  | [number, number, number, number]\n): Color;\nexport function color(value) {\n  return isPatternOrGradient(value) ? value : new Color(value);\n}\n\nexport function getHoverColor(value: CanvasGradient): CanvasGradient;\nexport function getHoverColor(value: CanvasPattern): CanvasPattern;\nexport function getHoverColor(value: string): string;\nexport function getHoverColor(value) {\n  return isPatternOrGradient(value)\n    ? value\n    : new Color(value).saturate(0.5).darken(0.1).hexString();\n}\n","const numbers = ['x', 'y', 'borderWidth', 'radius', 'tension'];\nconst colors = ['color', 'borderColor', 'backgroundColor'];\n\nexport function applyAnimationsDefaults(defaults) {\n  defaults.set('animation', {\n    delay: undefined,\n    duration: 1000,\n    easing: 'easeOutQuart',\n    fn: undefined,\n    from: undefined,\n    loop: undefined,\n    to: undefined,\n    type: undefined,\n  });\n\n  defaults.describe('animation', {\n    _fallback: false,\n    _indexable: false,\n    _scriptable: (name) => name !== 'onProgress' && name !== 'onComplete' && name !== 'fn',\n  });\n\n  defaults.set('animations', {\n    colors: {\n      type: 'color',\n      properties: colors\n    },\n    numbers: {\n      type: 'number',\n      properties: numbers\n    },\n  });\n\n  defaults.describe('animations', {\n    _fallback: 'animation',\n  });\n\n  defaults.set('transitions', {\n    active: {\n      animation: {\n        duration: 400\n      }\n    },\n    resize: {\n      animation: {\n        duration: 0\n      }\n    },\n    show: {\n      animations: {\n        colors: {\n          from: 'transparent'\n        },\n        visible: {\n          type: 'boolean',\n          duration: 0 // show immediately\n        },\n      }\n    },\n    hide: {\n      animations: {\n        colors: {\n          to: 'transparent'\n        },\n        visible: {\n          type: 'boolean',\n          easing: 'linear',\n          fn: v => v | 0 // for keeping the dataset visible all the way through the animation\n        },\n      }\n    }\n  });\n}\n","export function applyLayoutsDefaults(defaults) {\n  defaults.set('layout', {\n    autoPadding: true,\n    padding: {\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0\n    }\n  });\n}\n","\nconst intlCache = new Map<string, Intl.NumberFormat>();\n\nfunction getNumberFormat(locale: string, options?: Intl.NumberFormatOptions) {\n  options = options || {};\n  const cacheKey = locale + JSON.stringify(options);\n  let formatter = intlCache.get(cacheKey);\n  if (!formatter) {\n    formatter = new Intl.NumberFormat(locale, options);\n    intlCache.set(cacheKey, formatter);\n  }\n  return formatter;\n}\n\nexport function formatNumber(num: number, locale: string, options?: Intl.NumberFormatOptions) {\n  return getNumberFormat(locale, options).format(num);\n}\n","import {isArray} from '../helpers/helpers.core.js';\nimport {formatNumber} from '../helpers/helpers.intl.js';\nimport {log10} from '../helpers/helpers.math.js';\n\n/**\n * Namespace to hold formatters for different types of ticks\n * @namespace Chart.Ticks.formatters\n */\nconst formatters = {\n  /**\n   * Formatter for value labels\n   * @method Chart.Ticks.formatters.values\n   * @param value the value to display\n   * @return {string|string[]} the label to display\n   */\n  values(value) {\n    return isArray(value) ? /** @type {string[]} */ (value) : '' + value;\n  },\n\n  /**\n   * Formatter for numeric ticks\n   * @method Chart.Ticks.formatters.numeric\n   * @param tickValue {number} the value to be formatted\n   * @param index {number} the position of the tickValue parameter in the ticks array\n   * @param ticks {object[]} the list of ticks being converted\n   * @return {string} string representation of the tickValue parameter\n   */\n  numeric(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0'; // never show decimal places for 0\n    }\n\n    const locale = this.chart.options.locale;\n    let notation;\n    let delta = tickValue; // This is used when there are less than 2 ticks as the tick interval.\n\n    if (ticks.length > 1) {\n      // all ticks are small or there huge numbers; use scientific notation\n      const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n      if (maxTick < 1e-4 || maxTick > 1e+15) {\n        notation = 'scientific';\n      }\n\n      delta = calculateDelta(tickValue, ticks);\n    }\n\n    const logDelta = log10(Math.abs(delta));\n\n    // When datasets have values approaching Number.MAX_VALUE, the tick calculations might result in\n    // infinity and eventually NaN. Passing NaN for minimumFractionDigits or maximumFractionDigits\n    // will make the number formatter throw. So instead we check for isNaN and use a fallback value.\n    //\n    // toFixed has a max of 20 decimal places\n    const numDecimal = isNaN(logDelta) ? 1 : Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n\n    const options = {notation, minimumFractionDigits: numDecimal, maximumFractionDigits: numDecimal};\n    Object.assign(options, this.options.ticks.format);\n\n    return formatNumber(tickValue, locale, options);\n  },\n\n\n  /**\n   * Formatter for logarithmic ticks\n   * @method Chart.Ticks.formatters.logarithmic\n   * @param tickValue {number} the value to be formatted\n   * @param index {number} the position of the tickValue parameter in the ticks array\n   * @param ticks {object[]} the list of ticks being converted\n   * @return {string} string representation of the tickValue parameter\n   */\n  logarithmic(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const remain = ticks[index].significand || (tickValue / (Math.pow(10, Math.floor(log10(tickValue)))));\n    if ([1, 2, 3, 5, 10, 15].includes(remain) || index > 0.8 * ticks.length) {\n      return formatters.numeric.call(this, tickValue, index, ticks);\n    }\n    return '';\n  }\n\n};\n\n\nfunction calculateDelta(tickValue, ticks) {\n  // Figure out how many digits to show\n  // The space between the first two ticks might be smaller than normal spacing\n  let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n\n  // If we have a number like 2.5 as the delta, figure out how many decimal places we need\n  if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\n    // not an integer\n    delta = tickValue - Math.floor(tickValue);\n  }\n  return delta;\n}\n\n/**\n * Namespace to hold static tick generation functions\n * @namespace Chart.Ticks\n */\nexport default {formatters};\n","import Ticks from './core.ticks.js';\n\nexport function applyScaleDefaults(defaults) {\n  defaults.set('scale', {\n    display: true,\n    offset: false,\n    reverse: false,\n    beginAtZero: false,\n\n    /**\n     * Scale boundary strategy (bypassed by min/max time options)\n     * - `data`: make sure data are fully visible, ticks outside are removed\n     * - `ticks`: make sure ticks are fully visible, data outside are truncated\n     * @see https://github.com/chartjs/Chart.js/pull/4556\n     * @since 3.0.0\n     */\n    bounds: 'ticks',\n\n    clip: true,\n\n    /**\n     * Addition grace added to max and reduced from min data value.\n     * @since 3.0.0\n     */\n    grace: 0,\n\n    // grid line settings\n    grid: {\n      display: true,\n      lineWidth: 1,\n      drawOnChartArea: true,\n      drawTicks: true,\n      tickLength: 8,\n      tickWidth: (_ctx, options) => options.lineWidth,\n      tickColor: (_ctx, options) => options.color,\n      offset: false,\n    },\n\n    border: {\n      display: true,\n      dash: [],\n      dashOffset: 0.0,\n      width: 1\n    },\n\n    // scale title\n    title: {\n      // display property\n      display: false,\n\n      // actual label\n      text: '',\n\n      // top/bottom padding\n      padding: {\n        top: 4,\n        bottom: 4\n      }\n    },\n\n    // label settings\n    ticks: {\n      minRotation: 0,\n      maxRotation: 50,\n      mirror: false,\n      textStrokeWidth: 0,\n      textStrokeColor: '',\n      padding: 3,\n      display: true,\n      autoSkip: true,\n      autoSkipPadding: 3,\n      labelOffset: 0,\n      // We pass through arrays to be rendered as multiline labels, we convert Others to strings here.\n      callback: Ticks.formatters.values,\n      minor: {},\n      major: {},\n      align: 'center',\n      crossAlign: 'near',\n\n      showLabelBackdrop: false,\n      backdropColor: 'rgba(255, 255, 255, 0.75)',\n      backdropPadding: 2,\n    }\n  });\n\n  defaults.route('scale.ticks', 'color', '', 'color');\n  defaults.route('scale.grid', 'color', '', 'borderColor');\n  defaults.route('scale.border', 'color', '', 'borderColor');\n  defaults.route('scale.title', 'color', '', 'color');\n\n  defaults.describe('scale', {\n    _fallback: false,\n    _scriptable: (name) => !name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',\n    _indexable: (name) => name !== 'borderDash' && name !== 'tickBorderDash' && name !== 'dash',\n  });\n\n  defaults.describe('scales', {\n    _fallback: 'scale',\n  });\n\n  defaults.describe('scale.ticks', {\n    _scriptable: (name) => name !== 'backdropPadding' && name !== 'callback',\n    _indexable: (name) => name !== 'backdropPadding',\n  });\n}\n","import {getHoverColor} from '../helpers/helpers.color.js';\nimport {isObject, merge, valueOrDefault} from '../helpers/helpers.core.js';\nimport {applyAnimationsDefaults} from './core.animations.defaults.js';\nimport {applyLayoutsDefaults} from './core.layouts.defaults.js';\nimport {applyScaleDefaults} from './core.scale.defaults.js';\n\nexport const overrides = Object.create(null);\nexport const descriptors = Object.create(null);\n\n/**\n * @param {object} node\n * @param {string} key\n * @return {object}\n */\nfunction getScope(node, key) {\n  if (!key) {\n    return node;\n  }\n  const keys = key.split('.');\n  for (let i = 0, n = keys.length; i < n; ++i) {\n    const k = keys[i];\n    node = node[k] || (node[k] = Object.create(null));\n  }\n  return node;\n}\n\nfunction set(root, scope, values) {\n  if (typeof scope === 'string') {\n    return merge(getScope(root, scope), values);\n  }\n  return merge(getScope(root, ''), scope);\n}\n\n/**\n * Please use the module's default export which provides a singleton instance\n * Note: class is exported for typedoc\n */\nexport class Defaults {\n  constructor(_descriptors, _appliers) {\n    this.animation = undefined;\n    this.backgroundColor = 'rgba(0,0,0,0.1)';\n    this.borderColor = 'rgba(0,0,0,0.1)';\n    this.color = '#666';\n    this.datasets = {};\n    this.devicePixelRatio = (context) => context.chart.platform.getDevicePixelRatio();\n    this.elements = {};\n    this.events = [\n      'mousemove',\n      'mouseout',\n      'click',\n      'touchstart',\n      'touchmove'\n    ];\n    this.font = {\n      family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n      size: 12,\n      style: 'normal',\n      lineHeight: 1.2,\n      weight: null\n    };\n    this.hover = {};\n    this.hoverBackgroundColor = (ctx, options) => getHoverColor(options.backgroundColor);\n    this.hoverBorderColor = (ctx, options) => getHoverColor(options.borderColor);\n    this.hoverColor = (ctx, options) => getHoverColor(options.color);\n    this.indexAxis = 'x';\n    this.interaction = {\n      mode: 'nearest',\n      intersect: true,\n      includeInvisible: false\n    };\n    this.maintainAspectRatio = true;\n    this.onHover = null;\n    this.onClick = null;\n    this.parsing = true;\n    this.plugins = {};\n    this.responsive = true;\n    this.scale = undefined;\n    this.scales = {};\n    this.showLine = true;\n    this.drawActiveElementsOnTop = true;\n\n    this.describe(_descriptors);\n    this.apply(_appliers);\n  }\n\n  /**\n\t * @param {string|object} scope\n\t * @param {object} [values]\n\t */\n  set(scope, values) {\n    return set(this, scope, values);\n  }\n\n  /**\n\t * @param {string} scope\n\t */\n  get(scope) {\n    return getScope(this, scope);\n  }\n\n  /**\n\t * @param {string|object} scope\n\t * @param {object} [values]\n\t */\n  describe(scope, values) {\n    return set(descriptors, scope, values);\n  }\n\n  override(scope, values) {\n    return set(overrides, scope, values);\n  }\n\n  /**\n\t * Routes the named defaults to fallback to another scope/name.\n\t * This routing is useful when those target values, like defaults.color, are changed runtime.\n\t * If the values would be copied, the runtime change would not take effect. By routing, the\n\t * fallback is evaluated at each access, so its always up to date.\n\t *\n\t * Example:\n\t *\n\t * \tdefaults.route('elements.arc', 'backgroundColor', '', 'color')\n\t *   - reads the backgroundColor from defaults.color when undefined locally\n\t *\n\t * @param {string} scope Scope this route applies to.\n\t * @param {string} name Property name that should be routed to different namespace when not defined here.\n\t * @param {string} targetScope The namespace where those properties should be routed to.\n\t * Empty string ('') is the root of defaults.\n\t * @param {string} targetName The target name in the target scope the property should be routed to.\n\t */\n  route(scope, name, targetScope, targetName) {\n    const scopeObject = getScope(this, scope);\n    const targetScopeObject = getScope(this, targetScope);\n    const privateName = '_' + name;\n\n    Object.defineProperties(scopeObject, {\n      // A private property is defined to hold the actual value, when this property is set in its scope (set in the setter)\n      [privateName]: {\n        value: scopeObject[name],\n        writable: true\n      },\n      // The actual property is defined as getter/setter so we can do the routing when value is not locally set.\n      [name]: {\n        enumerable: true,\n        get() {\n          const local = this[privateName];\n          const target = targetScopeObject[targetName];\n          if (isObject(local)) {\n            return Object.assign({}, target, local);\n          }\n          return valueOrDefault(local, target);\n        },\n        set(value) {\n          this[privateName] = value;\n        }\n      }\n    });\n  }\n\n  apply(appliers) {\n    appliers.forEach((apply) => apply(this));\n  }\n}\n\n// singleton instance\nexport default /* #__PURE__ */ new Defaults({\n  _scriptable: (name) => !name.startsWith('on'),\n  _indexable: (name) => name !== 'events',\n  hover: {\n    _fallback: 'interaction'\n  },\n  interaction: {\n    _scriptable: false,\n    _indexable: false,\n  }\n}, [applyAnimationsDefaults, applyLayoutsDefaults, applyScaleDefaults]);\n","import type {\n  Chart,\n  Point,\n  FontSpec,\n  CanvasFontSpec,\n  PointStyle,\n  RenderTextOpts,\n  BackdropOptions\n} from '../types/index.js';\nimport type {\n  TRBL,\n  SplinePoint,\n  RoundedRect,\n  TRBLCorners\n} from '../types/geometric.js';\nimport {isArray, isNullOrUndef} from './helpers.core.js';\nimport {PI, TAU, HALF_PI, QUARTER_PI, TWO_THIRDS_PI, RAD_PER_DEG} from './helpers.math.js';\n\n/**\n * Converts the given font object into a CSS font string.\n * @param font - A font object.\n * @return The CSS font string. See https://developer.mozilla.org/en-US/docs/Web/CSS/font\n * @private\n */\nexport function toFontString(font: FontSpec) {\n  if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\n    return null;\n  }\n\n  return (font.style ? font.style + ' ' : '')\n\t\t+ (font.weight ? font.weight + ' ' : '')\n\t\t+ font.size + 'px '\n\t\t+ font.family;\n}\n\n/**\n * @private\n */\nexport function _measureText(\n  ctx: CanvasRenderingContext2D,\n  data: Record<string, number>,\n  gc: string[],\n  longest: number,\n  string: string\n) {\n  let textWidth = data[string];\n  if (!textWidth) {\n    textWidth = data[string] = ctx.measureText(string).width;\n    gc.push(string);\n  }\n  if (textWidth > longest) {\n    longest = textWidth;\n  }\n  return longest;\n}\n\ntype Thing = string | undefined | null\ntype Things = (Thing | Thing[])[]\n\n/**\n * @private\n */\n// eslint-disable-next-line complexity\nexport function _longestText(\n  ctx: CanvasRenderingContext2D,\n  font: string,\n  arrayOfThings: Things,\n  cache?: {data?: Record<string, number>, garbageCollect?: string[], font?: string}\n) {\n  cache = cache || {};\n  let data = cache.data = cache.data || {};\n  let gc = cache.garbageCollect = cache.garbageCollect || [];\n\n  if (cache.font !== font) {\n    data = cache.data = {};\n    gc = cache.garbageCollect = [];\n    cache.font = font;\n  }\n\n  ctx.save();\n\n  ctx.font = font;\n  let longest = 0;\n  const ilen = arrayOfThings.length;\n  let i: number, j: number, jlen: number, thing: Thing | Thing[], nestedThing: Thing | Thing[];\n  for (i = 0; i < ilen; i++) {\n    thing = arrayOfThings[i];\n\n    // Undefined strings and arrays should not be measured\n    if (thing !== undefined && thing !== null && !isArray(thing)) {\n      longest = _measureText(ctx, data, gc, longest, thing);\n    } else if (isArray(thing)) {\n      // if it is an array lets measure each element\n      // to do maybe simplify this function a bit so we can do this more recursively?\n      for (j = 0, jlen = thing.length; j < jlen; j++) {\n        nestedThing = thing[j];\n        // Undefined strings and arrays should not be measured\n        if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\n          longest = _measureText(ctx, data, gc, longest, nestedThing);\n        }\n      }\n    }\n  }\n\n  ctx.restore();\n\n  const gcLen = gc.length / 2;\n  if (gcLen > arrayOfThings.length) {\n    for (i = 0; i < gcLen; i++) {\n      delete data[gc[i]];\n    }\n    gc.splice(0, gcLen);\n  }\n  return longest;\n}\n\n/**\n * Returns the aligned pixel value to avoid anti-aliasing blur\n * @param chart - The chart instance.\n * @param pixel - A pixel value.\n * @param width - The width of the element.\n * @returns The aligned pixel value.\n * @private\n */\nexport function _alignPixel(chart: Chart, pixel: number, width: number) {\n  const devicePixelRatio = chart.currentDevicePixelRatio;\n  const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\n  return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n}\n\n/**\n * Clears the entire canvas.\n */\nexport function clearCanvas(canvas?: HTMLCanvasElement, ctx?: CanvasRenderingContext2D) {\n  if (!ctx && !canvas) {\n    return;\n  }\n\n  ctx = ctx || canvas.getContext('2d');\n\n  ctx.save();\n  // canvas.width and canvas.height do not consider the canvas transform,\n  // while clearRect does\n  ctx.resetTransform();\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.restore();\n}\n\nexport interface DrawPointOptions {\n  pointStyle: PointStyle;\n  rotation?: number;\n  radius: number;\n  borderWidth: number;\n}\n\nexport function drawPoint(\n  ctx: CanvasRenderingContext2D,\n  options: DrawPointOptions,\n  x: number,\n  y: number\n) {\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n  drawPointLegend(ctx, options, x, y, null);\n}\n\n// eslint-disable-next-line complexity\nexport function drawPointLegend(\n  ctx: CanvasRenderingContext2D,\n  options: DrawPointOptions,\n  x: number,\n  y: number,\n  w: number\n) {\n  let type: string, xOffset: number, yOffset: number, size: number, cornerRadius: number, width: number, xOffsetW: number, yOffsetW: number;\n  const style = options.pointStyle;\n  const rotation = options.rotation;\n  const radius = options.radius;\n  let rad = (rotation || 0) * RAD_PER_DEG;\n\n  if (style && typeof style === 'object') {\n    type = style.toString();\n    if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.rotate(rad);\n      ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n      ctx.restore();\n      return;\n    }\n  }\n\n  if (isNaN(radius) || radius <= 0) {\n    return;\n  }\n\n  ctx.beginPath();\n\n  switch (style) {\n  // Default includes circle\n    default:\n      if (w) {\n        ctx.ellipse(x, y, w / 2, radius, 0, 0, TAU);\n      } else {\n        ctx.arc(x, y, radius, 0, TAU);\n      }\n      ctx.closePath();\n      break;\n    case 'triangle':\n      width = w ? w / 2 : radius;\n      ctx.moveTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n      rad += TWO_THIRDS_PI;\n      ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n      rad += TWO_THIRDS_PI;\n      ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n      ctx.closePath();\n      break;\n    case 'rectRounded':\n    // NOTE: the rounded rect implementation changed to use `arc` instead of\n    // `quadraticCurveTo` since it generates better results when rect is\n    // almost a circle. 0.516 (instead of 0.5) produces results with visually\n    // closer proportion to the previous impl and it is inscribed in the\n    // circle with `radius`. For more details, see the following PRs:\n    // https://github.com/chartjs/Chart.js/issues/5597\n    // https://github.com/chartjs/Chart.js/issues/5858\n      cornerRadius = radius * 0.516;\n      size = radius - cornerRadius;\n      xOffset = Math.cos(rad + QUARTER_PI) * size;\n      xOffsetW = Math.cos(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n      yOffset = Math.sin(rad + QUARTER_PI) * size;\n      yOffsetW = Math.sin(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n      ctx.arc(x - xOffsetW, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n      ctx.arc(x + yOffsetW, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n      ctx.arc(x + xOffsetW, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n      ctx.arc(x - yOffsetW, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n      ctx.closePath();\n      break;\n    case 'rect':\n      if (!rotation) {\n        size = Math.SQRT1_2 * radius;\n        width = w ? w / 2 : size;\n        ctx.rect(x - width, y - size, 2 * width, 2 * size);\n        break;\n      }\n      rad += QUARTER_PI;\n    /* falls through */\n    case 'rectRot':\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      ctx.closePath();\n      break;\n    case 'crossRot':\n      rad += QUARTER_PI;\n    /* falls through */\n    case 'cross':\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.moveTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      break;\n    case 'star':\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.moveTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      rad += QUARTER_PI;\n      xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n      xOffset = Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n      ctx.moveTo(x - xOffsetW, y - yOffset);\n      ctx.lineTo(x + xOffsetW, y + yOffset);\n      ctx.moveTo(x + yOffsetW, y - xOffset);\n      ctx.lineTo(x - yOffsetW, y + xOffset);\n      break;\n    case 'line':\n      xOffset = w ? w / 2 : Math.cos(rad) * radius;\n      yOffset = Math.sin(rad) * radius;\n      ctx.moveTo(x - xOffset, y - yOffset);\n      ctx.lineTo(x + xOffset, y + yOffset);\n      break;\n    case 'dash':\n      ctx.moveTo(x, y);\n      ctx.lineTo(x + Math.cos(rad) * (w ? w / 2 : radius), y + Math.sin(rad) * radius);\n      break;\n    case false:\n      ctx.closePath();\n      break;\n  }\n\n  ctx.fill();\n  if (options.borderWidth > 0) {\n    ctx.stroke();\n  }\n}\n\n/**\n * Returns true if the point is inside the rectangle\n * @param point - The point to test\n * @param area - The rectangle\n * @param margin - allowed margin\n * @private\n */\nexport function _isPointInArea(\n  point: Point,\n  area: TRBL,\n  margin?: number\n) {\n  margin = margin || 0.5; // margin - default is to match rounded decimals\n\n  return !area || (point && point.x > area.left - margin && point.x < area.right + margin &&\n\t\tpoint.y > area.top - margin && point.y < area.bottom + margin);\n}\n\nexport function clipArea(ctx: CanvasRenderingContext2D, area: TRBL) {\n  ctx.save();\n  ctx.beginPath();\n  ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n  ctx.clip();\n}\n\nexport function unclipArea(ctx: CanvasRenderingContext2D) {\n  ctx.restore();\n}\n\n/**\n * @private\n */\nexport function _steppedLineTo(\n  ctx: CanvasRenderingContext2D,\n  previous: Point,\n  target: Point,\n  flip?: boolean,\n  mode?: string\n) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  if (mode === 'middle') {\n    const midpoint = (previous.x + target.x) / 2.0;\n    ctx.lineTo(midpoint, previous.y);\n    ctx.lineTo(midpoint, target.y);\n  } else if (mode === 'after' !== !!flip) {\n    ctx.lineTo(previous.x, target.y);\n  } else {\n    ctx.lineTo(target.x, previous.y);\n  }\n  ctx.lineTo(target.x, target.y);\n}\n\n/**\n * @private\n */\nexport function _bezierCurveTo(\n  ctx: CanvasRenderingContext2D,\n  previous: SplinePoint,\n  target: SplinePoint,\n  flip?: boolean\n) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  ctx.bezierCurveTo(\n    flip ? previous.cp1x : previous.cp2x,\n    flip ? previous.cp1y : previous.cp2y,\n    flip ? target.cp2x : target.cp1x,\n    flip ? target.cp2y : target.cp1y,\n    target.x,\n    target.y);\n}\n\nfunction setRenderOpts(ctx: CanvasRenderingContext2D, opts: RenderTextOpts) {\n  if (opts.translation) {\n    ctx.translate(opts.translation[0], opts.translation[1]);\n  }\n\n  if (!isNullOrUndef(opts.rotation)) {\n    ctx.rotate(opts.rotation);\n  }\n\n  if (opts.color) {\n    ctx.fillStyle = opts.color;\n  }\n\n  if (opts.textAlign) {\n    ctx.textAlign = opts.textAlign;\n  }\n\n  if (opts.textBaseline) {\n    ctx.textBaseline = opts.textBaseline;\n  }\n}\n\nfunction decorateText(\n  ctx: CanvasRenderingContext2D,\n  x: number,\n  y: number,\n  line: string,\n  opts: RenderTextOpts\n) {\n  if (opts.strikethrough || opts.underline) {\n    /**\n     * Now that IE11 support has been dropped, we can use more\n     * of the TextMetrics object. The actual bounding boxes\n     * are unflagged in Chrome, Firefox, Edge, and Safari so they\n     * can be safely used.\n     * See https://developer.mozilla.org/en-US/docs/Web/API/TextMetrics#Browser_compatibility\n     */\n    const metrics = ctx.measureText(line);\n    const left = x - metrics.actualBoundingBoxLeft;\n    const right = x + metrics.actualBoundingBoxRight;\n    const top = y - metrics.actualBoundingBoxAscent;\n    const bottom = y + metrics.actualBoundingBoxDescent;\n    const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\n\n    ctx.strokeStyle = ctx.fillStyle;\n    ctx.beginPath();\n    ctx.lineWidth = opts.decorationWidth || 2;\n    ctx.moveTo(left, yDecoration);\n    ctx.lineTo(right, yDecoration);\n    ctx.stroke();\n  }\n}\n\nfunction drawBackdrop(ctx: CanvasRenderingContext2D, opts: BackdropOptions) {\n  const oldColor = ctx.fillStyle;\n\n  ctx.fillStyle = opts.color as string;\n  ctx.fillRect(opts.left, opts.top, opts.width, opts.height);\n  ctx.fillStyle = oldColor;\n}\n\n/**\n * Render text onto the canvas\n */\nexport function renderText(\n  ctx: CanvasRenderingContext2D,\n  text: string | string[],\n  x: number,\n  y: number,\n  font: CanvasFontSpec,\n  opts: RenderTextOpts = {}\n) {\n  const lines = isArray(text) ? text : [text];\n  const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\n  let i: number, line: string;\n\n  ctx.save();\n  ctx.font = font.string;\n  setRenderOpts(ctx, opts);\n\n  for (i = 0; i < lines.length; ++i) {\n    line = lines[i];\n\n    if (opts.backdrop) {\n      drawBackdrop(ctx, opts.backdrop);\n    }\n\n    if (stroke) {\n      if (opts.strokeColor) {\n        ctx.strokeStyle = opts.strokeColor;\n      }\n\n      if (!isNullOrUndef(opts.strokeWidth)) {\n        ctx.lineWidth = opts.strokeWidth;\n      }\n\n      ctx.strokeText(line, x, y, opts.maxWidth);\n    }\n\n    ctx.fillText(line, x, y, opts.maxWidth);\n    decorateText(ctx, x, y, line, opts);\n\n    y += Number(font.lineHeight);\n  }\n\n  ctx.restore();\n}\n\n/**\n * Add a path of a rectangle with rounded corners to the current sub-path\n * @param ctx - Context\n * @param rect - Bounding rect\n */\nexport function addRoundedRectPath(\n  ctx: CanvasRenderingContext2D,\n  rect: RoundedRect & { radius: TRBLCorners }\n) {\n  const {x, y, w, h, radius} = rect;\n\n  // top left arc\n  ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, 1.5 * PI, PI, true);\n\n  // line from top left to bottom left\n  ctx.lineTo(x, y + h - radius.bottomLeft);\n\n  // bottom left arc\n  ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\n\n  // line from bottom left to bottom right\n  ctx.lineTo(x + w - radius.bottomRight, y + h);\n\n  // bottom right arc\n  ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\n\n  // line from bottom right to top right\n  ctx.lineTo(x + w, y + radius.topRight);\n\n  // top right arc\n  ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\n\n  // line from top right to top left\n  ctx.lineTo(x + radius.topLeft, y);\n}\n","import defaults from '../core/core.defaults.js';\nimport {isArray, isObject, toDimension, valueOrDefault} from './helpers.core.js';\nimport {toFontString} from './helpers.canvas.js';\nimport type {ChartArea, FontSpec, Point} from '../types/index.js';\nimport type {TRBL, TRBLCorners} from '../types/geometric.js';\n\nconst LINE_HEIGHT = /^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/;\nconst FONT_STYLE = /^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;\n\n/**\n * @alias Chart.helpers.options\n * @namespace\n */\n/**\n * Converts the given line height `value` in pixels for a specific font `size`.\n * @param value - The lineHeight to parse (eg. 1.6, '14px', '75%', '1.6em').\n * @param size - The font size (in pixels) used to resolve relative `value`.\n * @returns The effective line height in pixels (size * 1.2 if value is invalid).\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/line-height\n * @since 2.7.0\n */\nexport function toLineHeight(value: number | string, size: number): number {\n  const matches = ('' + value).match(LINE_HEIGHT);\n  if (!matches || matches[1] === 'normal') {\n    return size * 1.2;\n  }\n\n  value = +matches[2];\n\n  switch (matches[3]) {\n    case 'px':\n      return value;\n    case '%':\n      value /= 100;\n      break;\n    default:\n      break;\n  }\n\n  return size * value;\n}\n\nconst numberOrZero = (v: unknown) => +v || 0;\n\n/**\n * @param value\n * @param props\n */\nexport function _readValueToProps<K extends string>(value: number | Record<K, number>, props: K[]): Record<K, number>;\nexport function _readValueToProps<K extends string, T extends string>(value: number | Record<K & T, number>, props: Record<T, K>): Record<T, number>;\nexport function _readValueToProps(value: number | Record<string, number>, props: string[] | Record<string, string>) {\n  const ret = {};\n  const objProps = isObject(props);\n  const keys = objProps ? Object.keys(props) : props;\n  const read = isObject(value)\n    ? objProps\n      ? prop => valueOrDefault(value[prop], value[props[prop]])\n      : prop => value[prop]\n    : () => value;\n\n  for (const prop of keys) {\n    ret[prop] = numberOrZero(read(prop));\n  }\n  return ret;\n}\n\n/**\n * Converts the given value into a TRBL object.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left)\n * @since 3.0.0\n */\nexport function toTRBL(value: number | TRBL | Point) {\n  return _readValueToProps(value, {top: 'y', right: 'x', bottom: 'y', left: 'x'});\n}\n\n/**\n * Converts the given value into a TRBL corners object (similar with css border-radius).\n * @param value - If a number, set the value to all TRBL corner components,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n * @returns The TRBL corner values (topLeft, topRight, bottomLeft, bottomRight)\n * @since 3.0.0\n */\nexport function toTRBLCorners(value: number | TRBLCorners) {\n  return _readValueToProps(value, ['topLeft', 'topRight', 'bottomLeft', 'bottomRight']);\n}\n\n/**\n * Converts the given value into a padding object with pre-computed width/height.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left, width, height)\n * @since 2.7.0\n */\nexport function toPadding(value?: number | TRBL): ChartArea {\n  const obj = toTRBL(value) as ChartArea;\n\n  obj.width = obj.left + obj.right;\n  obj.height = obj.top + obj.bottom;\n\n  return obj;\n}\n\n/**\n * Parses font options and returns the font object.\n * @param options - A object that contains font options to be parsed.\n * @param fallback - A object that contains fallback font options.\n * @return The font object.\n * @private\n */\n\nexport function toFont(options: Partial<FontSpec>, fallback?: Partial<FontSpec>) {\n  options = options || {};\n  fallback = fallback || defaults.font as FontSpec;\n\n  let size = valueOrDefault(options.size, fallback.size);\n\n  if (typeof size === 'string') {\n    size = parseInt(size, 10);\n  }\n  let style = valueOrDefault(options.style, fallback.style);\n  if (style && !('' + style).match(FONT_STYLE)) {\n    console.warn('Invalid font style specified: \"' + style + '\"');\n    style = undefined;\n  }\n\n  const font = {\n    family: valueOrDefault(options.family, fallback.family),\n    lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\n    size,\n    style,\n    weight: valueOrDefault(options.weight, fallback.weight),\n    string: ''\n  };\n\n  font.string = toFontString(font);\n  return font;\n}\n\n/**\n * Evaluates the given `inputs` sequentially and returns the first defined value.\n * @param inputs - An array of values, falling back to the last value.\n * @param context - If defined and the current value is a function, the value\n * is called with `context` as first argument and the result becomes the new input.\n * @param index - If defined and the current value is an array, the value\n * at `index` become the new input.\n * @param info - object to return information about resolution in\n * @param info.cacheable - Will be set to `false` if option is not cacheable.\n * @since 2.7.0\n */\nexport function resolve(inputs: Array<unknown>, context?: object, index?: number, info?: { cacheable: boolean }) {\n  let cacheable = true;\n  let i: number, ilen: number, value: unknown;\n\n  for (i = 0, ilen = inputs.length; i < ilen; ++i) {\n    value = inputs[i];\n    if (value === undefined) {\n      continue;\n    }\n    if (context !== undefined && typeof value === 'function') {\n      value = value(context);\n      cacheable = false;\n    }\n    if (index !== undefined && isArray(value)) {\n      value = value[index % value.length];\n      cacheable = false;\n    }\n    if (value !== undefined) {\n      if (info && !cacheable) {\n        info.cacheable = false;\n      }\n      return value;\n    }\n  }\n}\n\n/**\n * @param minmax\n * @param grace\n * @param beginAtZero\n * @private\n */\nexport function _addGrace(minmax: { min: number; max: number; }, grace: number | string, beginAtZero: boolean) {\n  const {min, max} = minmax;\n  const change = toDimension(grace, (max - min) / 2);\n  const keepZero = (value: number, add: number) => beginAtZero && value === 0 ? 0 : value + add;\n  return {\n    min: keepZero(min, -Math.abs(change)),\n    max: keepZero(max, change)\n  };\n}\n\n/**\n * Create a context inheriting parentContext\n * @param parentContext\n * @param context\n * @returns\n */\nexport function createContext<T extends object>(parentContext: null, context: T): T;\nexport function createContext<T extends object, P extends T>(parentContext: P, context: T): P & T;\nexport function createContext(parentContext: object, context: object) {\n  return Object.assign(Object.create(parentContext), context);\n}\n","/* eslint-disable @typescript-eslint/no-use-before-define */\nimport type {AnyObject} from '../types/basic.js';\nimport type {ChartMeta} from '../types/index.js';\nimport type {\n  ResolverObjectKey,\n  ResolverCache,\n  ResolverProxy,\n  DescriptorDefaults,\n  Descriptor,\n  ContextCache,\n  ContextProxy\n} from './helpers.config.types.js';\nimport {isArray, isFunction, isObject, resolveObjectKey, _capitalize} from './helpers.core.js';\n\nexport * from './helpers.config.types.js';\n\n/**\n * Creates a Proxy for resolving raw values for options.\n * @param scopes - The option scopes to look for values, in resolution order\n * @param prefixes - The prefixes for values, in resolution order.\n * @param rootScopes - The root option scopes\n * @param fallback - Parent scopes fallback\n * @param getTarget - callback for getting the target for changed values\n * @returns Proxy\n * @private\n */\nexport function _createResolver<\n  T extends AnyObject[] = AnyObject[],\n  R extends AnyObject[] = T\n>(\n  scopes: T,\n  prefixes = [''],\n  rootScopes?: R,\n  fallback?: ResolverObjectKey,\n  getTarget = () => scopes[0]\n) {\n  const finalRootScopes = rootScopes || scopes;\n  if (typeof fallback === 'undefined') {\n    fallback = _resolve('_fallback', scopes);\n  }\n  const cache: ResolverCache<T, R> = {\n    [Symbol.toStringTag]: 'Object',\n    _cacheable: true,\n    _scopes: scopes,\n    _rootScopes: finalRootScopes,\n    _fallback: fallback,\n    _getTarget: getTarget,\n    override: (scope: AnyObject) => _createResolver([scope, ...scopes], prefixes, finalRootScopes, fallback),\n  };\n  return new Proxy(cache, {\n    /**\n     * A trap for the delete operator.\n     */\n    deleteProperty(target, prop: string) {\n      delete target[prop]; // remove from cache\n      delete target._keys; // remove cached keys\n      delete scopes[0][prop]; // remove from top level scope\n      return true;\n    },\n\n    /**\n     * A trap for getting property values.\n     */\n    get(target, prop: string) {\n      return _cached(target, prop,\n        () => _resolveWithPrefixes(prop, prefixes, scopes, target));\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */\n    getOwnPropertyDescriptor(target, prop) {\n      return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\n    },\n\n    /**\n     * A trap for Object.getPrototypeOf.\n     */\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(scopes[0]);\n    },\n\n    /**\n     * A trap for the in operator.\n     */\n    has(target, prop: string) {\n      return getKeysFromAllScopes(target).includes(prop);\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */\n    ownKeys(target) {\n      return getKeysFromAllScopes(target);\n    },\n\n    /**\n     * A trap for setting property values.\n     */\n    set(target, prop: string, value) {\n      const storage = target._storage || (target._storage = getTarget());\n      target[prop] = storage[prop] = value; // set to top level scope + cache\n      delete target._keys; // remove cached keys\n      return true;\n    }\n  }) as ResolverProxy<T, R>;\n}\n\n/**\n * Returns an Proxy for resolving option values with context.\n * @param proxy - The Proxy returned by `_createResolver`\n * @param context - Context object for scriptable/indexable options\n * @param subProxy - The proxy provided for scriptable options\n * @param descriptorDefaults - Defaults for descriptors\n * @private\n */\nexport function _attachContext<\n  T extends AnyObject[] = AnyObject[],\n  R extends AnyObject[] = T\n>(\n  proxy: ResolverProxy<T, R>,\n  context: AnyObject,\n  subProxy?: ResolverProxy<T, R>,\n  descriptorDefaults?: DescriptorDefaults\n) {\n  const cache: ContextCache<T, R> = {\n    _cacheable: false,\n    _proxy: proxy,\n    _context: context,\n    _subProxy: subProxy,\n    _stack: new Set(),\n    _descriptors: _descriptors(proxy, descriptorDefaults),\n    setContext: (ctx: AnyObject) => _attachContext(proxy, ctx, subProxy, descriptorDefaults),\n    override: (scope: AnyObject) => _attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)\n  };\n  return new Proxy(cache, {\n    /**\n     * A trap for the delete operator.\n     */\n    deleteProperty(target, prop) {\n      delete target[prop]; // remove from cache\n      delete proxy[prop]; // remove from proxy\n      return true;\n    },\n\n    /**\n     * A trap for getting property values.\n     */\n    get(target, prop: string, receiver) {\n      return _cached(target, prop,\n        () => _resolveWithContext(target, prop, receiver));\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */\n    getOwnPropertyDescriptor(target, prop) {\n      return target._descriptors.allKeys\n        ? Reflect.has(proxy, prop) ? {enumerable: true, configurable: true} : undefined\n        : Reflect.getOwnPropertyDescriptor(proxy, prop);\n    },\n\n    /**\n     * A trap for Object.getPrototypeOf.\n     */\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(proxy);\n    },\n\n    /**\n     * A trap for the in operator.\n     */\n    has(target, prop) {\n      return Reflect.has(proxy, prop);\n    },\n\n    /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */\n    ownKeys() {\n      return Reflect.ownKeys(proxy);\n    },\n\n    /**\n     * A trap for setting property values.\n     */\n    set(target, prop, value) {\n      proxy[prop] = value; // set to proxy\n      delete target[prop]; // remove from cache\n      return true;\n    }\n  }) as ContextProxy<T, R>;\n}\n\n/**\n * @private\n */\nexport function _descriptors(\n  proxy: ResolverCache,\n  defaults: DescriptorDefaults = {scriptable: true, indexable: true}\n): Descriptor {\n  const {_scriptable = defaults.scriptable, _indexable = defaults.indexable, _allKeys = defaults.allKeys} = proxy;\n  return {\n    allKeys: _allKeys,\n    scriptable: _scriptable,\n    indexable: _indexable,\n    isScriptable: isFunction(_scriptable) ? _scriptable : () => _scriptable,\n    isIndexable: isFunction(_indexable) ? _indexable : () => _indexable\n  };\n}\n\nconst readKey = (prefix: string, name: string) => prefix ? prefix + _capitalize(name) : name;\nconst needsSubResolver = (prop: string, value: unknown) => isObject(value) && prop !== 'adapters' &&\n  (Object.getPrototypeOf(value) === null || value.constructor === Object);\n\nfunction _cached(\n  target: AnyObject,\n  prop: string,\n  resolve: () => unknown\n) {\n  if (Object.prototype.hasOwnProperty.call(target, prop) || prop === 'constructor') {\n    return target[prop];\n  }\n\n  const value = resolve();\n  // cache the resolved value\n  target[prop] = value;\n  return value;\n}\n\nfunction _resolveWithContext(\n  target: ContextCache,\n  prop: string,\n  receiver: AnyObject\n) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  let value = _proxy[prop]; // resolve from proxy\n\n  // resolve with context\n  if (isFunction(value) && descriptors.isScriptable(prop)) {\n    value = _resolveScriptable(prop, value, target, receiver);\n  }\n  if (isArray(value) && value.length) {\n    value = _resolveArray(prop, value, target, descriptors.isIndexable);\n  }\n  if (needsSubResolver(prop, value)) {\n    // if the resolved value is an object, create a sub resolver for it\n    value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\n  }\n  return value;\n}\n\nfunction _resolveScriptable(\n  prop: string,\n  getValue: (ctx: AnyObject, sub: AnyObject) => unknown,\n  target: ContextCache,\n  receiver: AnyObject\n) {\n  const {_proxy, _context, _subProxy, _stack} = target;\n  if (_stack.has(prop)) {\n    throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);\n  }\n  _stack.add(prop);\n  let value = getValue(_context, _subProxy || receiver);\n  _stack.delete(prop);\n  if (needsSubResolver(prop, value)) {\n    // When scriptable option returns an object, create a resolver on that.\n    value = createSubResolver(_proxy._scopes, _proxy, prop, value);\n  }\n  return value;\n}\n\nfunction _resolveArray(\n  prop: string,\n  value: unknown[],\n  target: ContextCache,\n  isIndexable: (key: string) => boolean\n) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n\n  if (typeof _context.index !== 'undefined' && isIndexable(prop)) {\n    return value[_context.index % value.length];\n  } else if (isObject(value[0])) {\n    // Array of objects, return array or resolvers\n    const arr = value;\n    const scopes = _proxy._scopes.filter(s => s !== arr);\n    value = [];\n    for (const item of arr) {\n      const resolver = createSubResolver(scopes, _proxy, prop, item);\n      value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\n    }\n  }\n  return value;\n}\n\nfunction resolveFallback(\n  fallback: ResolverObjectKey | ((prop: ResolverObjectKey, value: unknown) => ResolverObjectKey),\n  prop: ResolverObjectKey,\n  value: unknown\n) {\n  return isFunction(fallback) ? fallback(prop, value) : fallback;\n}\n\nconst getScope = (key: ResolverObjectKey, parent: AnyObject) => key === true ? parent\n  : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\n\nfunction addScopes(\n  set: Set<AnyObject>,\n  parentScopes: AnyObject[],\n  key: ResolverObjectKey,\n  parentFallback: ResolverObjectKey,\n  value: unknown\n) {\n  for (const parent of parentScopes) {\n    const scope = getScope(key, parent);\n    if (scope) {\n      set.add(scope);\n      const fallback = resolveFallback(scope._fallback, key, value);\n      if (typeof fallback !== 'undefined' && fallback !== key && fallback !== parentFallback) {\n        // When we reach the descriptor that defines a new _fallback, return that.\n        // The fallback will resume to that new scope.\n        return fallback;\n      }\n    } else if (scope === false && typeof parentFallback !== 'undefined' && key !== parentFallback) {\n      // Fallback to `false` results to `false`, when falling back to different key.\n      // For example `interaction` from `hover` or `plugins.tooltip` and `animation` from `animations`\n      return null;\n    }\n  }\n  return false;\n}\n\nfunction createSubResolver(\n  parentScopes: AnyObject[],\n  resolver: ResolverCache,\n  prop: ResolverObjectKey,\n  value: unknown\n) {\n  const rootScopes = resolver._rootScopes;\n  const fallback = resolveFallback(resolver._fallback, prop, value);\n  const allScopes = [...parentScopes, ...rootScopes];\n  const set = new Set<AnyObject>();\n  set.add(value);\n  let key = addScopesFromKey(set, allScopes, prop, fallback || prop, value);\n  if (key === null) {\n    return false;\n  }\n  if (typeof fallback !== 'undefined' && fallback !== prop) {\n    key = addScopesFromKey(set, allScopes, fallback, key, value);\n    if (key === null) {\n      return false;\n    }\n  }\n  return _createResolver(Array.from(set), [''], rootScopes, fallback,\n    () => subGetTarget(resolver, prop as string, value));\n}\n\nfunction addScopesFromKey(\n  set: Set<AnyObject>,\n  allScopes: AnyObject[],\n  key: ResolverObjectKey,\n  fallback: ResolverObjectKey,\n  item: unknown\n) {\n  while (key) {\n    key = addScopes(set, allScopes, key, fallback, item);\n  }\n  return key;\n}\n\nfunction subGetTarget(\n  resolver: ResolverCache,\n  prop: string,\n  value: unknown\n) {\n  const parent = resolver._getTarget();\n  if (!(prop in parent)) {\n    parent[prop] = {};\n  }\n  const target = parent[prop];\n  if (isArray(target) && isObject(value)) {\n    // For array of objects, the object is used to store updated values\n    return value;\n  }\n  return target || {};\n}\n\nfunction _resolveWithPrefixes(\n  prop: string,\n  prefixes: string[],\n  scopes: AnyObject[],\n  proxy: ResolverProxy\n) {\n  let value: unknown;\n  for (const prefix of prefixes) {\n    value = _resolve(readKey(prefix, prop), scopes);\n    if (typeof value !== 'undefined') {\n      return needsSubResolver(prop, value)\n        ? createSubResolver(scopes, proxy, prop, value)\n        : value;\n    }\n  }\n}\n\nfunction _resolve(key: string, scopes: AnyObject[]) {\n  for (const scope of scopes) {\n    if (!scope) {\n      continue;\n    }\n    const value = scope[key];\n    if (typeof value !== 'undefined') {\n      return value;\n    }\n  }\n}\n\nfunction getKeysFromAllScopes(target: ResolverCache) {\n  let keys = target._keys;\n  if (!keys) {\n    keys = target._keys = resolveKeysFromAllScopes(target._scopes);\n  }\n  return keys;\n}\n\nfunction resolveKeysFromAllScopes(scopes: AnyObject[]) {\n  const set = new Set<string>();\n  for (const scope of scopes) {\n    for (const key of Object.keys(scope).filter(k => !k.startsWith('_'))) {\n      set.add(key);\n    }\n  }\n  return Array.from(set);\n}\n\nexport function _parseObjectDataRadialScale(\n  meta: ChartMeta<'line' | 'scatter'>,\n  data: AnyObject[],\n  start: number,\n  count: number\n) {\n  const {iScale} = meta;\n  const {key = 'r'} = this._parsing;\n  const parsed = new Array<{r: unknown}>(count);\n  let i: number, ilen: number, index: number, item: AnyObject;\n\n  for (i = 0, ilen = count; i < ilen; ++i) {\n    index = i + start;\n    item = data[index];\n    parsed[i] = {\n      r: iScale.parse(resolveObjectKey(item, key), index)\n    };\n  }\n  return parsed;\n}\n","import {almostEquals, distanceBetweenPoints, sign} from './helpers.math.js';\nimport {_isPointInArea} from './helpers.canvas.js';\nimport type {ChartArea} from '../types/index.js';\nimport type {SplinePoint} from '../types/geometric.js';\n\nconst EPSILON = Number.EPSILON || 1e-14;\n\ntype OptionalSplinePoint = SplinePoint | false\nconst getPoint = (points: SplinePoint[], i: number): OptionalSplinePoint => i < points.length && !points[i].skip && points[i];\nconst getValueAxis = (indexAxis: 'x' | 'y') => indexAxis === 'x' ? 'y' : 'x';\n\nexport function splineCurve(\n  firstPoint: SplinePoint,\n  middlePoint: SplinePoint,\n  afterPoint: SplinePoint,\n  t: number\n): {\n    previous: SplinePoint\n    next: SplinePoint\n  } {\n  // Props to Rob Spencer at scaled innovation for his post on splining between points\n  // http://scaledinnovation.com/analytics/splines/aboutSplines.html\n\n  // This function must also respect \"skipped\" points\n\n  const previous = firstPoint.skip ? middlePoint : firstPoint;\n  const current = middlePoint;\n  const next = afterPoint.skip ? middlePoint : afterPoint;\n  const d01 = distanceBetweenPoints(current, previous);\n  const d12 = distanceBetweenPoints(next, current);\n\n  let s01 = d01 / (d01 + d12);\n  let s12 = d12 / (d01 + d12);\n\n  // If all points are the same, s01 & s02 will be inf\n  s01 = isNaN(s01) ? 0 : s01;\n  s12 = isNaN(s12) ? 0 : s12;\n\n  const fa = t * s01; // scaling factor for triangle Ta\n  const fb = t * s12;\n\n  return {\n    previous: {\n      x: current.x - fa * (next.x - previous.x),\n      y: current.y - fa * (next.y - previous.y)\n    },\n    next: {\n      x: current.x + fb * (next.x - previous.x),\n      y: current.y + fb * (next.y - previous.y)\n    }\n  };\n}\n\n/**\n * Adjust tangents to ensure monotonic properties\n */\nfunction monotoneAdjust(points: SplinePoint[], deltaK: number[], mK: number[]) {\n  const pointsLen = points.length;\n\n  let alphaK: number, betaK: number, tauK: number, squaredMagnitude: number, pointCurrent: OptionalSplinePoint;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen - 1; ++i) {\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent || !pointAfter) {\n      continue;\n    }\n\n    if (almostEquals(deltaK[i], 0, EPSILON)) {\n      mK[i] = mK[i + 1] = 0;\n      continue;\n    }\n\n    alphaK = mK[i] / deltaK[i];\n    betaK = mK[i + 1] / deltaK[i];\n    squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n    if (squaredMagnitude <= 9) {\n      continue;\n    }\n\n    tauK = 3 / Math.sqrt(squaredMagnitude);\n    mK[i] = alphaK * tauK * deltaK[i];\n    mK[i + 1] = betaK * tauK * deltaK[i];\n  }\n}\n\nfunction monotoneCompute(points: SplinePoint[], mK: number[], indexAxis: 'x' | 'y' = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  let delta: number, pointBefore: OptionalSplinePoint, pointCurrent: OptionalSplinePoint;\n  let pointAfter = getPoint(points, 0);\n\n  for (let i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n\n    const iPixel = pointCurrent[indexAxis];\n    const vPixel = pointCurrent[valueAxis];\n    if (pointBefore) {\n      delta = (iPixel - pointBefore[indexAxis]) / 3;\n      pointCurrent[`cp1${indexAxis}`] = iPixel - delta;\n      pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];\n    }\n    if (pointAfter) {\n      delta = (pointAfter[indexAxis] - iPixel) / 3;\n      pointCurrent[`cp2${indexAxis}`] = iPixel + delta;\n      pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];\n    }\n  }\n}\n\n/**\n * This function calculates Bézier control points in a similar way than |splineCurve|,\n * but preserves monotonicity of the provided data and ensures no local extremums are added\n * between the dataset discrete points due to the interpolation.\n * See : https://en.wikipedia.org/wiki/Monotone_cubic_interpolation\n */\nexport function splineCurveMonotone(points: SplinePoint[], indexAxis: 'x' | 'y' = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  const deltaK: number[] = Array(pointsLen).fill(0);\n  const mK: number[] = Array(pointsLen);\n\n  // Calculate slopes (deltaK) and initialize tangents (mK)\n  let i, pointBefore: OptionalSplinePoint, pointCurrent: OptionalSplinePoint;\n  let pointAfter = getPoint(points, 0);\n\n  for (i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n\n    if (pointAfter) {\n      const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];\n\n      // In the case of two points that appear at the same x pixel, slopeDeltaX is 0\n      deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;\n    }\n    mK[i] = !pointBefore ? deltaK[i]\n      : !pointAfter ? deltaK[i - 1]\n        : (sign(deltaK[i - 1]) !== sign(deltaK[i])) ? 0\n          : (deltaK[i - 1] + deltaK[i]) / 2;\n  }\n\n  monotoneAdjust(points, deltaK, mK);\n\n  monotoneCompute(points, mK, indexAxis);\n}\n\nfunction capControlPoint(pt: number, min: number, max: number) {\n  return Math.max(Math.min(pt, max), min);\n}\n\nfunction capBezierPoints(points: SplinePoint[], area: ChartArea) {\n  let i, ilen, point, inArea, inAreaPrev;\n  let inAreaNext = _isPointInArea(points[0], area);\n  for (i = 0, ilen = points.length; i < ilen; ++i) {\n    inAreaPrev = inArea;\n    inArea = inAreaNext;\n    inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\n    if (!inArea) {\n      continue;\n    }\n    point = points[i];\n    if (inAreaPrev) {\n      point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\n      point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\n    }\n    if (inAreaNext) {\n      point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\n      point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\n    }\n  }\n}\n\n/**\n * @private\n */\nexport function _updateBezierControlPoints(\n  points: SplinePoint[],\n  options,\n  area: ChartArea,\n  loop: boolean,\n  indexAxis: 'x' | 'y'\n) {\n  let i: number, ilen: number, point: SplinePoint, controlPoints: ReturnType<typeof splineCurve>;\n\n  // Only consider points that are drawn in case the spanGaps option is used\n  if (options.spanGaps) {\n    points = points.filter((pt) => !pt.skip);\n  }\n\n  if (options.cubicInterpolationMode === 'monotone') {\n    splineCurveMonotone(points, indexAxis);\n  } else {\n    let prev = loop ? points[points.length - 1] : points[0];\n    for (i = 0, ilen = points.length; i < ilen; ++i) {\n      point = points[i];\n      controlPoints = splineCurve(\n        prev,\n        point,\n        points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen],\n        options.tension\n      );\n      point.cp1x = controlPoints.previous.x;\n      point.cp1y = controlPoints.previous.y;\n      point.cp2x = controlPoints.next.x;\n      point.cp2y = controlPoints.next.y;\n      prev = point;\n    }\n  }\n\n  if (options.capBezierPoints) {\n    capBezierPoints(points, area);\n  }\n}\n","import type {ChartArea, Scale} from '../types/index.js';\nimport type Chart from '../core/core.controller.js';\nimport type {ChartEvent} from '../types.js';\nimport {INFINITY} from './helpers.math.js';\n\n/**\n * Note: typedefs are auto-exported, so use a made-up `dom` namespace where\n * necessary to avoid duplicates with `export * from './helpers`; see\n * https://github.com/microsoft/TypeScript/issues/46011\n * @typedef { import('../core/core.controller.js').default } dom.Chart\n * @typedef { import('../../types').ChartEvent } ChartEvent\n */\n\n/**\n * @private\n */\nexport function _isDomSupported(): boolean {\n  return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\n\n/**\n * @private\n */\nexport function _getParentNode(domNode: HTMLCanvasElement): HTMLCanvasElement {\n  let parent = domNode.parentNode;\n  if (parent && parent.toString() === '[object ShadowRoot]') {\n    parent = (parent as ShadowRoot).host;\n  }\n  return parent as HTMLCanvasElement;\n}\n\n/**\n * convert max-width/max-height values that may be percentages into a number\n * @private\n */\n\nfunction parseMaxStyle(styleValue: string | number, node: HTMLElement, parentProperty: string) {\n  let valueInPixels: number;\n  if (typeof styleValue === 'string') {\n    valueInPixels = parseInt(styleValue, 10);\n\n    if (styleValue.indexOf('%') !== -1) {\n      // percentage * size in dimension\n      valueInPixels = (valueInPixels / 100) * node.parentNode[parentProperty];\n    }\n  } else {\n    valueInPixels = styleValue;\n  }\n\n  return valueInPixels;\n}\n\nconst getComputedStyle = (element: HTMLElement): CSSStyleDeclaration =>\n  element.ownerDocument.defaultView.getComputedStyle(element, null);\n\nexport function getStyle(el: HTMLElement, property: string): string {\n  return getComputedStyle(el).getPropertyValue(property);\n}\n\nconst positions = ['top', 'right', 'bottom', 'left'];\nfunction getPositionedStyle(styles: CSSStyleDeclaration, style: string, suffix?: string): ChartArea {\n  const result = {} as ChartArea;\n  suffix = suffix ? '-' + suffix : '';\n  for (let i = 0; i < 4; i++) {\n    const pos = positions[i];\n    result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\n  }\n  result.width = result.left + result.right;\n  result.height = result.top + result.bottom;\n  return result;\n}\n\nconst useOffsetPos = (x: number, y: number, target: HTMLElement | EventTarget) =>\n  (x > 0 || y > 0) && (!target || !(target as HTMLElement).shadowRoot);\n\n/**\n * @param e\n * @param canvas\n * @returns Canvas position\n */\nfunction getCanvasPosition(\n  e: Event | TouchEvent | MouseEvent,\n  canvas: HTMLCanvasElement\n): {\n    x: number;\n    y: number;\n    box: boolean;\n  } {\n  const touches = (e as TouchEvent).touches;\n  const source = (touches && touches.length ? touches[0] : e) as MouseEvent;\n  const {offsetX, offsetY} = source as MouseEvent;\n  let box = false;\n  let x, y;\n  if (useOffsetPos(offsetX, offsetY, e.target)) {\n    x = offsetX;\n    y = offsetY;\n  } else {\n    const rect = canvas.getBoundingClientRect();\n    x = source.clientX - rect.left;\n    y = source.clientY - rect.top;\n    box = true;\n  }\n  return {x, y, box};\n}\n\n/**\n * Gets an event's x, y coordinates, relative to the chart area\n * @param event\n * @param chart\n * @returns x and y coordinates of the event\n */\n\nexport function getRelativePosition(\n  event: Event | ChartEvent | TouchEvent | MouseEvent,\n  chart: Chart\n): { x: number; y: number } {\n  if ('native' in event) {\n    return event;\n  }\n\n  const {canvas, currentDevicePixelRatio} = chart;\n  const style = getComputedStyle(canvas);\n  const borderBox = style.boxSizing === 'border-box';\n  const paddings = getPositionedStyle(style, 'padding');\n  const borders = getPositionedStyle(style, 'border', 'width');\n  const {x, y, box} = getCanvasPosition(event, canvas);\n  const xOffset = paddings.left + (box && borders.left);\n  const yOffset = paddings.top + (box && borders.top);\n\n  let {width, height} = chart;\n  if (borderBox) {\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  return {\n    x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\n    y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\n  };\n}\n\nfunction getContainerSize(canvas: HTMLCanvasElement, width: number, height: number): Partial<Scale> {\n  let maxWidth: number, maxHeight: number;\n\n  if (width === undefined || height === undefined) {\n    const container = canvas && _getParentNode(canvas);\n    if (!container) {\n      width = canvas.clientWidth;\n      height = canvas.clientHeight;\n    } else {\n      const rect = container.getBoundingClientRect(); // this is the border box of the container\n      const containerStyle = getComputedStyle(container);\n      const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\n      const containerPadding = getPositionedStyle(containerStyle, 'padding');\n      width = rect.width - containerPadding.width - containerBorder.width;\n      height = rect.height - containerPadding.height - containerBorder.height;\n      maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\n      maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\n    }\n  }\n  return {\n    width,\n    height,\n    maxWidth: maxWidth || INFINITY,\n    maxHeight: maxHeight || INFINITY\n  };\n}\n\nconst round1 = (v: number) => Math.round(v * 10) / 10;\n\n// eslint-disable-next-line complexity\nexport function getMaximumSize(\n  canvas: HTMLCanvasElement,\n  bbWidth?: number,\n  bbHeight?: number,\n  aspectRatio?: number\n): { width: number; height: number } {\n  const style = getComputedStyle(canvas);\n  const margins = getPositionedStyle(style, 'margin');\n  const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\n  const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\n  const containerSize = getContainerSize(canvas, bbWidth, bbHeight);\n  let {width, height} = containerSize;\n\n  if (style.boxSizing === 'content-box') {\n    const borders = getPositionedStyle(style, 'border', 'width');\n    const paddings = getPositionedStyle(style, 'padding');\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  width = Math.max(0, width - margins.width);\n  height = Math.max(0, aspectRatio ? width / aspectRatio : height - margins.height);\n  width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\n  height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\n  if (width && !height) {\n    // https://github.com/chartjs/Chart.js/issues/4659\n    // If the canvas has width, but no height, default to aspectRatio of 2 (canvas default)\n    height = round1(width / 2);\n  }\n\n  const maintainHeight = bbWidth !== undefined || bbHeight !== undefined;\n\n  if (maintainHeight && aspectRatio && containerSize.height && height > containerSize.height) {\n    height = containerSize.height;\n    width = round1(Math.floor(height * aspectRatio));\n  }\n\n  return {width, height};\n}\n\n/**\n * @param chart\n * @param forceRatio\n * @param forceStyle\n * @returns True if the canvas context size or transformation has changed.\n */\nexport function retinaScale(\n  chart: Chart,\n  forceRatio: number,\n  forceStyle?: boolean\n): boolean | void {\n  const pixelRatio = forceRatio || 1;\n  const deviceHeight = Math.floor(chart.height * pixelRatio);\n  const deviceWidth = Math.floor(chart.width * pixelRatio);\n\n  chart.height = Math.floor(chart.height);\n  chart.width = Math.floor(chart.width);\n\n  const canvas = chart.canvas;\n\n  // If no style has been set on the canvas, the render size is used as display size,\n  // making the chart visually bigger, so let's enforce it to the \"correct\" values.\n  // See https://github.com/chartjs/Chart.js/issues/3575\n  if (canvas.style && (forceStyle || (!canvas.style.height && !canvas.style.width))) {\n    canvas.style.height = `${chart.height}px`;\n    canvas.style.width = `${chart.width}px`;\n  }\n\n  if (chart.currentDevicePixelRatio !== pixelRatio\n      || canvas.height !== deviceHeight\n      || canvas.width !== deviceWidth) {\n    chart.currentDevicePixelRatio = pixelRatio;\n    canvas.height = deviceHeight;\n    canvas.width = deviceWidth;\n    chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    return true;\n  }\n  return false;\n}\n\n/**\n * Detects support for options object argument in addEventListener.\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\n * @private\n */\nexport const supportsEventListenerOptions = (function() {\n  let passiveSupported = false;\n  try {\n    const options = {\n      get passive() { // This function will be called when the browser attempts to access the passive property.\n        passiveSupported = true;\n        return false;\n      }\n    } as EventListenerOptions;\n\n    if (_isDomSupported()) {\n      window.addEventListener('test', null, options);\n      window.removeEventListener('test', null, options);\n    }\n  } catch (e) {\n    // continue regardless of error\n  }\n  return passiveSupported;\n}());\n\n/**\n * The \"used\" size is the final value of a dimension property after all calculations have\n * been performed. This method uses the computed style of `element` but returns undefined\n * if the computed style is not expressed in pixels. That can happen in some cases where\n * `element` has a size relative to its parent and this last one is not yet displayed,\n * for example because of `display: none` on a parent node.\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/used_value\n * @returns Size in pixels or undefined if unknown.\n */\n\nexport function readUsedSize(\n  element: HTMLElement,\n  property: 'width' | 'height'\n): number | undefined {\n  const value = getStyle(element, property);\n  const matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n  return matches ? +matches[1] : undefined;\n}\n","import type {Point, SplinePoint} from '../types/geometric.js';\n\n/**\n * @private\n */\nexport function _pointInLine(p1: Point, p2: Point, t: number, mode?) { // eslint-disable-line @typescript-eslint/no-unused-vars\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: p1.y + t * (p2.y - p1.y)\n  };\n}\n\n/**\n * @private\n */\nexport function _steppedInterpolation(\n  p1: Point,\n  p2: Point,\n  t: number, mode: 'middle' | 'after' | unknown\n) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y\n      : mode === 'after' ? t < 1 ? p1.y : p2.y\n        : t > 0 ? p2.y : p1.y\n  };\n}\n\n/**\n * @private\n */\nexport function _bezierInterpolation(p1: SplinePoint, p2: SplinePoint, t: number, mode?) { // eslint-disable-line @typescript-eslint/no-unused-vars\n  const cp1 = {x: p1.cp2x, y: p1.cp2y};\n  const cp2 = {x: p2.cp1x, y: p2.cp1y};\n  const a = _pointInLine(p1, cp1, t);\n  const b = _pointInLine(cp1, cp2, t);\n  const c = _pointInLine(cp2, p2, t);\n  const d = _pointInLine(a, b, t);\n  const e = _pointInLine(b, c, t);\n  return _pointInLine(d, e, t);\n}\n","export interface RTLAdapter {\n  x(x: number): number;\n  setWidth(w: number): void;\n  textAlign(align: 'center' | 'left' | 'right'): 'center' | 'left' | 'right';\n  xPlus(x: number, value: number): number;\n  leftForLtr(x: number, itemWidth: number): number;\n}\n\nconst getRightToLeftAdapter = function(rectX: number, width: number): RTLAdapter {\n  return {\n    x(x) {\n      return rectX + rectX + width - x;\n    },\n    setWidth(w) {\n      width = w;\n    },\n    textAlign(align) {\n      if (align === 'center') {\n        return align;\n      }\n      return align === 'right' ? 'left' : 'right';\n    },\n    xPlus(x, value) {\n      return x - value;\n    },\n    leftForLtr(x, itemWidth) {\n      return x - itemWidth;\n    },\n  };\n};\n\nconst getLeftToRightAdapter = function(): RTLAdapter {\n  return {\n    x(x) {\n      return x;\n    },\n    setWidth(w) { // eslint-disable-line no-unused-vars\n    },\n    textAlign(align) {\n      return align;\n    },\n    xPlus(x, value) {\n      return x + value;\n    },\n    leftForLtr(x, _itemWidth) { // eslint-disable-line @typescript-eslint/no-unused-vars\n      return x;\n    },\n  };\n};\n\nexport function getRtlAdapter(rtl: boolean, rectX: number, width: number) {\n  return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\n}\n\nexport function overrideTextDirection(ctx: CanvasRenderingContext2D, direction: 'ltr' | 'rtl') {\n  let style: CSSStyleDeclaration, original: [string, string];\n  if (direction === 'ltr' || direction === 'rtl') {\n    style = ctx.canvas.style;\n    original = [\n      style.getPropertyValue('direction'),\n      style.getPropertyPriority('direction'),\n    ];\n\n    style.setProperty('direction', direction, 'important');\n    (ctx as { prevTextDirection?: [string, string] }).prevTextDirection = original;\n  }\n}\n\nexport function restoreTextDirection(ctx: CanvasRenderingContext2D, original?: [string, string]) {\n  if (original !== undefined) {\n    delete (ctx as { prevTextDirection?: [string, string] }).prevTextDirection;\n    ctx.canvas.style.setProperty('direction', original[0], original[1]);\n  }\n}\n","import {_angleBetween, _angleDiff, _isBetween, _normalizeAngle} from './helpers.math.js';\nimport {createContext} from './helpers.options.js';\nimport {isPatternOrGradient} from './helpers.color.js';\n\n/**\n * @typedef { import('../elements/element.line.js').default } LineElement\n * @typedef { import('../elements/element.point.js').default } PointElement\n * @typedef {{start: number, end: number, loop: boolean, style?: any}} Segment\n */\n\nfunction propertyFn(property) {\n  if (property === 'angle') {\n    return {\n      between: _angleBetween,\n      compare: _angleDiff,\n      normalize: _normalizeAngle,\n    };\n  }\n  return {\n    between: _isBetween,\n    compare: (a, b) => a - b,\n    normalize: x => x\n  };\n}\n\nfunction normalizeSegment({start, end, count, loop, style}) {\n  return {\n    start: start % count,\n    end: end % count,\n    loop: loop && (end - start + 1) % count === 0,\n    style\n  };\n}\n\nfunction getSegment(segment, points, bounds) {\n  const {property, start: startBound, end: endBound} = bounds;\n  const {between, normalize} = propertyFn(property);\n  const count = points.length;\n  // eslint-disable-next-line prefer-const\n  let {start, end, loop} = segment;\n  let i, ilen;\n\n  if (loop) {\n    start += count;\n    end += count;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      if (!between(normalize(points[start % count][property]), startBound, endBound)) {\n        break;\n      }\n      start--;\n      end--;\n    }\n    start %= count;\n    end %= count;\n  }\n\n  if (end < start) {\n    end += count;\n  }\n  return {start, end, loop, style: segment.style};\n}\n\n/**\n * Returns the sub-segment(s) of a line segment that fall in the given bounds\n * @param {object} segment\n * @param {number} segment.start - start index of the segment, referring the points array\n * @param {number} segment.end - end index of the segment, referring the points array\n * @param {boolean} segment.loop - indicates that the segment is a loop\n * @param {object} [segment.style] - segment style\n * @param {PointElement[]} points - the points that this segment refers to\n * @param {object} [bounds]\n * @param {string} bounds.property - the property of a `PointElement` we are bounding. `x`, `y` or `angle`.\n * @param {number} bounds.start - start value of the property\n * @param {number} bounds.end - end value of the property\n * @private\n **/\nexport function _boundSegment(segment, points, bounds) {\n  if (!bounds) {\n    return [segment];\n  }\n\n  const {property, start: startBound, end: endBound} = bounds;\n  const count = points.length;\n  const {compare, between, normalize} = propertyFn(property);\n  const {start, end, loop, style} = getSegment(segment, points, bounds);\n\n  const result = [];\n  let inside = false;\n  let subStart = null;\n  let value, point, prevValue;\n\n  const startIsBefore = () => between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\n  const endIsBefore = () => compare(endBound, value) === 0 || between(endBound, prevValue, value);\n  const shouldStart = () => inside || startIsBefore();\n  const shouldStop = () => !inside || endIsBefore();\n\n  for (let i = start, prev = start; i <= end; ++i) {\n    point = points[i % count];\n\n    if (point.skip) {\n      continue;\n    }\n\n    value = normalize(point[property]);\n\n    if (value === prevValue) {\n      continue;\n    }\n\n    inside = between(value, startBound, endBound);\n\n    if (subStart === null && shouldStart()) {\n      subStart = compare(value, startBound) === 0 ? i : prev;\n    }\n\n    if (subStart !== null && shouldStop()) {\n      result.push(normalizeSegment({start: subStart, end: i, loop, count, style}));\n      subStart = null;\n    }\n    prev = i;\n    prevValue = value;\n  }\n\n  if (subStart !== null) {\n    result.push(normalizeSegment({start: subStart, end, loop, count, style}));\n  }\n\n  return result;\n}\n\n\n/**\n * Returns the segments of the line that are inside given bounds\n * @param {LineElement} line\n * @param {object} [bounds]\n * @param {string} bounds.property - the property we are bounding with. `x`, `y` or `angle`.\n * @param {number} bounds.start - start value of the `property`\n * @param {number} bounds.end - end value of the `property`\n * @private\n */\nexport function _boundSegments(line, bounds) {\n  const result = [];\n  const segments = line.segments;\n\n  for (let i = 0; i < segments.length; i++) {\n    const sub = _boundSegment(segments[i], line.points, bounds);\n    if (sub.length) {\n      result.push(...sub);\n    }\n  }\n  return result;\n}\n\n/**\n * Find start and end index of a line.\n */\nfunction findStartAndEnd(points, count, loop, spanGaps) {\n  let start = 0;\n  let end = count - 1;\n\n  if (loop && !spanGaps) {\n    // loop and not spanning gaps, first find a gap to start from\n    while (start < count && !points[start].skip) {\n      start++;\n    }\n  }\n\n  // find first non skipped point (after the first gap possibly)\n  while (start < count && points[start].skip) {\n    start++;\n  }\n\n  // if we looped to count, start needs to be 0\n  start %= count;\n\n  if (loop) {\n    // loop will go past count, if start > 0\n    end += start;\n  }\n\n  while (end > start && points[end % count].skip) {\n    end--;\n  }\n\n  // end could be more than count, normalize\n  end %= count;\n\n  return {start, end};\n}\n\n/**\n * Compute solid segments from Points, when spanGaps === false\n * @param {PointElement[]} points - the points\n * @param {number} start - start index\n * @param {number} max - max index (can go past count on a loop)\n * @param {boolean} loop - boolean indicating that this would be a loop if no gaps are found\n */\nfunction solidSegments(points, start, max, loop) {\n  const count = points.length;\n  const result = [];\n  let last = start;\n  let prev = points[start];\n  let end;\n\n  for (end = start + 1; end <= max; ++end) {\n    const cur = points[end % count];\n    if (cur.skip || cur.stop) {\n      if (!prev.skip) {\n        loop = false;\n        result.push({start: start % count, end: (end - 1) % count, loop});\n        // @ts-ignore\n        start = last = cur.stop ? end : null;\n      }\n    } else {\n      last = end;\n      if (prev.skip) {\n        start = end;\n      }\n    }\n    prev = cur;\n  }\n\n  if (last !== null) {\n    result.push({start: start % count, end: last % count, loop});\n  }\n\n  return result;\n}\n\n/**\n * Compute the continuous segments that define the whole line\n * There can be skipped points within a segment, if spanGaps is true.\n * @param {LineElement} line\n * @param {object} [segmentOptions]\n * @return {Segment[]}\n * @private\n */\nexport function _computeSegments(line, segmentOptions) {\n  const points = line.points;\n  const spanGaps = line.options.spanGaps;\n  const count = points.length;\n\n  if (!count) {\n    return [];\n  }\n\n  const loop = !!line._loop;\n  const {start, end} = findStartAndEnd(points, count, loop, spanGaps);\n\n  if (spanGaps === true) {\n    return splitByStyles(line, [{start, end, loop}], points, segmentOptions);\n  }\n\n  const max = end < start ? end + count : end;\n  const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\n  return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);\n}\n\n/**\n * @param {Segment[]} segments\n * @param {PointElement[]} points\n * @param {object} [segmentOptions]\n * @return {Segment[]}\n */\nfunction splitByStyles(line, segments, points, segmentOptions) {\n  if (!segmentOptions || !segmentOptions.setContext || !points) {\n    return segments;\n  }\n  return doSplitByStyles(line, segments, points, segmentOptions);\n}\n\n/**\n * @param {LineElement} line\n * @param {Segment[]} segments\n * @param {PointElement[]} points\n * @param {object} [segmentOptions]\n * @return {Segment[]}\n */\nfunction doSplitByStyles(line, segments, points, segmentOptions) {\n  const chartContext = line._chart.getContext();\n  const baseStyle = readStyle(line.options);\n  const {_datasetIndex: datasetIndex, options: {spanGaps}} = line;\n  const count = points.length;\n  const result = [];\n  let prevStyle = baseStyle;\n  let start = segments[0].start;\n  let i = start;\n\n  function addStyle(s, e, l, st) {\n    const dir = spanGaps ? -1 : 1;\n    if (s === e) {\n      return;\n    }\n    // Style can not start/end on a skipped point, adjust indices accordingly\n    s += count;\n    while (points[s % count].skip) {\n      s -= dir;\n    }\n    while (points[e % count].skip) {\n      e += dir;\n    }\n    if (s % count !== e % count) {\n      result.push({start: s % count, end: e % count, loop: l, style: st});\n      prevStyle = st;\n      start = e % count;\n    }\n  }\n\n  for (const segment of segments) {\n    start = spanGaps ? start : segment.start;\n    let prev = points[start % count];\n    let style;\n    for (i = start + 1; i <= segment.end; i++) {\n      const pt = points[i % count];\n      style = readStyle(segmentOptions.setContext(createContext(chartContext, {\n        type: 'segment',\n        p0: prev,\n        p1: pt,\n        p0DataIndex: (i - 1) % count,\n        p1DataIndex: i % count,\n        datasetIndex\n      })));\n      if (styleChanged(style, prevStyle)) {\n        addStyle(start, i - 1, segment.loop, prevStyle);\n      }\n      prev = pt;\n      prevStyle = style;\n    }\n    if (start < i - 1) {\n      addStyle(start, i - 1, segment.loop, prevStyle);\n    }\n  }\n\n  return result;\n}\n\nfunction readStyle(options) {\n  return {\n    backgroundColor: options.backgroundColor,\n    borderCapStyle: options.borderCapStyle,\n    borderDash: options.borderDash,\n    borderDashOffset: options.borderDashOffset,\n    borderJoinStyle: options.borderJoinStyle,\n    borderWidth: options.borderWidth,\n    borderColor: options.borderColor\n  };\n}\n\nfunction styleChanged(style, prevStyle) {\n  if (!prevStyle) {\n    return false;\n  }\n  const cache = [];\n  const replacer = function(key, value) {\n    if (!isPatternOrGradient(value)) {\n      return value;\n    }\n    if (!cache.includes(value)) {\n      cache.push(value);\n    }\n    return cache.indexOf(value);\n  };\n  return JSON.stringify(style, replacer) !== JSON.stringify(prevStyle, replacer);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}